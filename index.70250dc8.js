function t(t,e,r,n){Object.defineProperty(t,e,{get:r,set:n,enumerable:!0,configurable:!0})}var e="undefined"!=typeof globalThis?globalThis:"undefined"!=typeof self?self:"undefined"!=typeof window?window:"undefined"!=typeof global?global:{},r={},n={},i=e.parcelRequire2fe5;function o(t,e,...r){t.ctx.fillStyle=e,t.ctx.beginPath(),t.ctx.moveTo(r[0].x,r[0].y);for(let e=1;e<r.length;e++)t.ctx.lineTo(r[e].x,r[e].y);t.ctx.fill()}function s(t,e,r){var n=r/180*Math.PI;return e+t*Math.cos(n)}function a(t,e,r){let n=s(e,800,r-t.platform.width/2),i=s(e,800,r+t.platform.width/2);return{left:n,right:i,width:i-n,unit:(i-n)/8}}null==i&&((i=function(t){if(t in r)return r[t].exports;if(t in n){var e=n[t];delete n[t];var i={id:t,exports:{}};return r[t]=i,e.call(i.exports,i,i.exports),i.exports}var o=new Error("Cannot find module '"+t+"'");throw o.code="MODULE_NOT_FOUND",o}).register=function(t,e){n[t]=e},e.parcelRequire2fe5=i),i.register("bXuNP",(function(e,r){var n,i;t(e.exports,"register",(()=>n),(t=>n=t)),t(e.exports,"resolve",(()=>i),(t=>i=t));var o={};n=function(t){for(var e=Object.keys(t),r=0;r<e.length;r++)o[e[r]]=t[e[r]]},i=function(t){var e=o[t];if(null==e)throw new Error("Could not resolve bundle with id "+t);return e}})),i("bXuNP").register(JSON.parse('{"kyWCV":"index.70250dc8.js","hts9X":"time-wave-pass-by-4.82ae776b.mp3","mZqOX":"time-wave-ripple-2.705ccf6f.mp3","7z5iz":"clock-ticking.369b835b.mp3","2Y9IQ":"thunder-rumble.8aefcfcc.mp3","2vBSq":"yeaah.535f7812.mp3","dDxAQ":"scream.1ffa8df8.mp3","bcCjA":"running.eaae51b0.mp3","ctoNW":"jump-spring.7791f55a.mp3","kcC6D":"jump-spring-down.3063aeb8.mp3","nuIm3":"state=standing.80ae63fb.png","gc5NC":"state=jumping.73ab438d.png","6JlzR":"state=jumpingdown.f1cac178.png","6gMiH":"state=running.25e1adf1.png","78b94":"state=walking.d00195d2.png"}'));class u{constructor(t,e){this.x=t,this.y=e,this.x=t,this.y=e}}let c=0;class l{constructor(t,e){this.x=t,this.y=e,this.n=c++,this.x=t,this.y=e,this.infront=!1,this.outerBox=null}getY(t){return this.y+t.state.pos.y}isInFront(t){const e=this.x-t.state.pos.x,r=(a(t,600,e),a(t,680,e));return this.infront=r.left>r.right,this.infront}drawFront(t){t.ctx.fillStyle=t.colors.wood2,t.ctx.fillRect(this.outerBox.left,this.getY(t),this.outerBox.width,t.platform.height)}draw(t){const e=this.x-t.state.pos.x,r=a(t,600,e),n=a(t,680,e),i=r.left>n.left;this.infront=n.left>n.right;for(let e of["left","right"]){let s="left"===e?n.unit:6*n.unit,a={top:{left:new u(n.left+s,this.getY(t)+t.platform.height),right:new u(n.left+n.unit+s,this.getY(t)+t.platform.height)},bottom:{left:new u(r.left+s,this.getY(t)+70),right:new u(r.left+r.unit+s,this.getY(t)+70)}},c={top:{left:new u(n.left+s,this.getY(t)+(t.platform.height-10)),right:new u(n.left+n.unit+s,this.getY(t)+(t.platform.height-10))},bottom:{left:new u(r.left+s,this.getY(t)+60),right:new u(r.left+r.unit+s,this.getY(t)+60)}};o(t,t.colors.wood3,c.top.left,c.bottom.left,c.bottom.right,c.top.right),o(t,t.colors.wood4,a.top.left,a.bottom.left,a.bottom.right,a.top.right),i?o(t,t.colors.wood5,c.top.left,a.top.left,a.bottom.left,c.bottom.left):o(t,t.colors.wood5,c.top.right,a.top.right,a.bottom.right,c.bottom.right)}t.ctx.fillStyle=t.colors.wood1,i?t.ctx.fillRect(r.left,this.getY(t),n.left-r.left,t.platform.height):t.ctx.fillRect(n.right,this.getY(t),r.left-n.left,t.platform.height),this.outerBox=n}}function f(t,e,r,n,i,o){const s=t.createLinearGradient(e,0,e+r,0);s.addColorStop(0,i),s.addColorStop(1,o),t.fillStyle=s,t.fillRect(e,0,r,n)}class p{constructor(t,e){this.width=t,this.height=e;let r=document.createElement("canvas");r.width=t,r.height=e,this.ctx=r.getContext("2d"),this.canvas=r}}function h(t,e){e&&(t.state.activePlatforms=[]),t.platforms.forEach((r=>{r.x<t.state.pos.x-40||r.x>t.state.pos.x+220||(e?r.isInFront(t)&&(r.draw(t),t.state.activePlatforms.push(r)):r.isInFront(t)||r.draw(t))}));for(let e=0;e<t.state.activePlatforms.length;e++)t.state.activePlatforms[e].drawFront(t)}function d(t,e,r){37===e.keyCode&&(t.input.left=r),39===e.keyCode&&(t.input.right=r),32===e.keyCode&&(t.input.jump=r)}function y(t){const e=1.70158;return--t*t*((e+1)*t+e)+1}function v(t,e,r){const n=new p(t.tower.width,e);t.brick.padding;let i=t.brick.padding,o={x:0,y:0},a=t.brick.width;const u=t.brick.width;let c=!0;const l=n.ctx.createLinearGradient(0,0,n.canvas.width,e);l.addColorStop(0,"black"),l.addColorStop(.35,"#353637"),l.addColorStop(.65,"#353637"),l.addColorStop(1,"black"),n.ctx.fillStyle=l,n.ctx.fillRect(0,0,n.canvas.width,n.canvas.height);for(let e=0;e<2;e++){for(let e=180+r;e<=360;e+=u)o=s(600,600,e),c&&(e+=u/2,c=!1),a=s(600,600,e+u),n.ctx.fillStyle=t.brick.color,n.ctx.fillRect(o,i,a-o-t.brick.padding,t.brick.height),n.ctx.fillStyle=t.brick.shade,n.ctx.fillRect(o,i,a-o-t.brick.padding,3);i+=t.brick.padding,i+=t.brick.height}return n.canvas}var m={};Object.defineProperty(m,"__esModule",{value:!0}),m.InjectionToken=void 0;m.InjectionToken=class{constructor(t){this.injectionIdentifier=t}toString(){return this.injectionIdentifier}};var g,w={},b=w&&w.__createBinding||(Object.create?function(t,e,r,n){void 0===n&&(n=r),Object.defineProperty(t,n,{enumerable:!0,get:function(){return e[r]}})}:function(t,e,r,n){void 0===n&&(n=r),t[n]=e[r]}),x=w&&w.__exportStar||function(t,e){for(var r in t)"default"===r||Object.prototype.hasOwnProperty.call(e,r)||b(e,t,r)};Object.defineProperty(w,"__esModule",{value:!0}),i.register("4hU38",(function(t,e){Object.defineProperty(t.exports,"__esModule",{value:!0}),t.exports.Injectable=void 0;var r=i("eL9SZ");t.exports.Injectable=function(){return function(t){return Reflect.defineMetadata(r.INJECTABLE_METADATA_KEY,!0,t),t}}})),i.register("eL9SZ",(function(t,e){Object.defineProperty(t.exports,"__esModule",{value:!0}),t.exports.isInjectable=t.exports.INJECTABLE_METADATA_KEY=void 0,i("3XTdd"),t.exports.INJECTABLE_METADATA_KEY=Symbol("INJECTABLE_KEY"),t.exports.isInjectable=function(e){return!0===Reflect.getMetadata(t.exports.INJECTABLE_METADATA_KEY,e)}})),i.register("3XTdd",(function(t,r){var n,o=i("d6KlF");
/*! *****************************************************************************
Copyright (C) Microsoft. All rights reserved.
Licensed under the Apache License, Version 2.0 (the "License"); you may not use
this file except in compliance with the License. You may obtain a copy of the
License at http://www.apache.org/licenses/LICENSE-2.0

THIS CODE IS PROVIDED ON AN *AS IS* BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY
KIND, EITHER EXPRESS OR IMPLIED, INCLUDING WITHOUT LIMITATION ANY IMPLIED
WARRANTIES OR CONDITIONS OF TITLE, FITNESS FOR A PARTICULAR PURPOSE,
MERCHANTABLITY OR NON-INFRINGEMENT.

See the Apache Version 2.0 License for specific language governing permissions
and limitations under the License.
***************************************************************************** */!function(t){!function(r){var n="object"==typeof e?e:"object"==typeof self?self:"object"==typeof this?this:Function("return this;")(),i=s(t);function s(t,e){return function(r,n){"function"!=typeof t[r]&&Object.defineProperty(t,r,{configurable:!0,writable:!0,value:n}),e&&e(r,n)}}void 0===n.Reflect?n.Reflect=t:i=s(n.Reflect,i),function(t){var e=Object.prototype.hasOwnProperty,r="function"==typeof Symbol,n=r&&void 0!==Symbol.toPrimitive?Symbol.toPrimitive:"@@toPrimitive",i=r&&void 0!==Symbol.iterator?Symbol.iterator:"@@iterator",s="function"==typeof Object.create,a={__proto__:[]}instanceof Array,u=!s&&!a,c={create:s?function(){return it(Object.create(null))}:a?function(){return it({__proto__:null})}:function(){return it({})},has:u?function(t,r){return e.call(t,r)}:function(t,e){return e in t},get:u?function(t,r){return e.call(t,r)?t[r]:void 0}:function(t,e){return t[e]}},l=Object.getPrototypeOf(Function),f="object"==typeof o&&o.env&&!1,p=f||"function"!=typeof Map||"function"!=typeof Map.prototype.entries?et():Map,h=f||"function"!=typeof Set||"function"!=typeof Set.prototype.entries?rt():Set,d=new(f||"function"!=typeof WeakMap?nt():WeakMap);function y(t,e,r,n){if(F(r)){if(!$(t))throw new TypeError;if(!V(e))throw new TypeError;return k(t,e)}if(!$(t))throw new TypeError;if(!B(e))throw new TypeError;if(!B(n)&&!F(n)&&!N(n))throw new TypeError;return N(n)&&(n=void 0),E(t,e,r=Y(r),n)}function v(t,e){function r(r,n){if(!B(r))throw new TypeError;if(!F(n)&&!K(n))throw new TypeError;R(t,e,r,n)}return r}function m(t,e,r,n){if(!B(r))throw new TypeError;return F(n)||(n=Y(n)),R(t,e,r,n)}function g(t,e,r){if(!B(e))throw new TypeError;return F(r)||(r=Y(r)),T(t,e,r)}function w(t,e,r){if(!B(e))throw new TypeError;return F(r)||(r=Y(r)),A(t,e,r)}function b(t,e,r){if(!B(e))throw new TypeError;return F(r)||(r=Y(r)),I(t,e,r)}function x(t,e,r){if(!B(e))throw new TypeError;return F(r)||(r=Y(r)),C(t,e,r)}function _(t,e){if(!B(t))throw new TypeError;return F(e)||(e=Y(e)),O(t,e)}function S(t,e){if(!B(t))throw new TypeError;return F(e)||(e=Y(e)),L(t,e)}function j(t,e,r){if(!B(e))throw new TypeError;F(r)||(r=Y(r));var n=P(e,r,!1);if(F(n))return!1;if(!n.delete(t))return!1;if(n.size>0)return!0;var i=d.get(e);return i.delete(r),i.size>0||d.delete(e),!0}function k(t,e){for(var r=t.length-1;r>=0;--r){var n=(0,t[r])(e);if(!F(n)&&!N(n)){if(!V(n))throw new TypeError;e=n}}return e}function E(t,e,r,n){for(var i=t.length-1;i>=0;--i){var o=(0,t[i])(e,r,n);if(!F(o)&&!N(o)){if(!B(o))throw new TypeError;n=o}}return n}function P(t,e,r){var n=d.get(t);if(F(n)){if(!r)return;n=new p,d.set(t,n)}var i=n.get(e);if(F(i)){if(!r)return;i=new p,n.set(e,i)}return i}function T(t,e,r){if(A(t,e,r))return!0;var n=tt(e);return!N(n)&&T(t,n,r)}function A(t,e,r){var n=P(e,r,!1);return!F(n)&&W(n.has(t))}function I(t,e,r){if(A(t,e,r))return C(t,e,r);var n=tt(e);return N(n)?void 0:I(t,n,r)}function C(t,e,r){var n=P(e,r,!1);if(!F(n))return n.get(t)}function R(t,e,r,n){P(r,n,!0).set(t,e)}function O(t,e){var r=L(t,e),n=tt(t);if(null===n)return r;var i=O(n,e);if(i.length<=0)return r;if(r.length<=0)return i;for(var o=new h,s=[],a=0,u=r;a<u.length;a++){var c=u[a];o.has(c)||(o.add(c),s.push(c))}for(var l=0,f=i;l<f.length;l++){c=f[l];o.has(c)||(o.add(c),s.push(c))}return s}function L(t,e){var r=[],n=P(t,e,!1);if(F(n))return r;for(var i=z(n.keys()),o=0;;){var s=Z(i);if(!s)return r.length=o,r;var a=G(s);try{r[o]=a}catch(t){try{Q(i)}finally{throw t}}o++}}function M(t){if(null===t)return 1;switch(typeof t){case"undefined":return 0;case"boolean":return 2;case"string":return 3;case"symbol":return 4;case"number":return 5;case"object":return null===t?1:6;default:return 6}}function F(t){return void 0===t}function N(t){return null===t}function U(t){return"symbol"==typeof t}function B(t){return"object"==typeof t?null!==t:"function"==typeof t}function H(t,e){switch(M(t)){case 0:case 1:case 2:case 3:case 4:case 5:return t}var r=3===e?"string":5===e?"number":"default",i=X(t,n);if(void 0!==i){var o=i.call(t,r);if(B(o))throw new TypeError;return o}return D(t,"default"===r?"number":r)}function D(t,e){if("string"===e){var r=t.toString;if(q(r))if(!B(i=r.call(t)))return i;if(q(n=t.valueOf))if(!B(i=n.call(t)))return i}else{var n;if(q(n=t.valueOf))if(!B(i=n.call(t)))return i;var i,o=t.toString;if(q(o))if(!B(i=o.call(t)))return i}throw new TypeError}function W(t){return!!t}function J(t){return""+t}function Y(t){var e=H(t,3);return U(e)?e:J(e)}function $(t){return Array.isArray?Array.isArray(t):t instanceof Object?t instanceof Array:"[object Array]"===Object.prototype.toString.call(t)}function q(t){return"function"==typeof t}function V(t){return"function"==typeof t}function K(t){switch(M(t)){case 3:case 4:return!0;default:return!1}}function X(t,e){var r=t[e];if(null!=r){if(!q(r))throw new TypeError;return r}}function z(t){var e=X(t,i);if(!q(e))throw new TypeError;var r=e.call(t);if(!B(r))throw new TypeError;return r}function G(t){return t.value}function Z(t){var e=t.next();return!e.done&&e}function Q(t){var e=t.return;e&&e.call(t)}function tt(t){var e=Object.getPrototypeOf(t);if("function"!=typeof t||t===l)return e;if(e!==l)return e;var r=t.prototype,n=r&&Object.getPrototypeOf(r);if(null==n||n===Object.prototype)return e;var i=n.constructor;return"function"!=typeof i||i===t?e:i}function et(){var t={},e=[],r=function(){function t(t,e,r){this._index=0,this._keys=t,this._values=e,this._selector=r}return t.prototype["@@iterator"]=function(){return this},t.prototype[i]=function(){return this},t.prototype.next=function(){var t=this._index;if(t>=0&&t<this._keys.length){var r=this._selector(this._keys[t],this._values[t]);return t+1>=this._keys.length?(this._index=-1,this._keys=e,this._values=e):this._index++,{value:r,done:!1}}return{value:void 0,done:!0}},t.prototype.throw=function(t){throw this._index>=0&&(this._index=-1,this._keys=e,this._values=e),t},t.prototype.return=function(t){return this._index>=0&&(this._index=-1,this._keys=e,this._values=e),{value:t,done:!0}},t}();function n(t,e){return t}function o(t,e){return e}function s(t,e){return[t,e]}return function(){function e(){this._keys=[],this._values=[],this._cacheKey=t,this._cacheIndex=-2}return Object.defineProperty(e.prototype,"size",{get:function(){return this._keys.length},enumerable:!0,configurable:!0}),e.prototype.has=function(t){return this._find(t,!1)>=0},e.prototype.get=function(t){var e=this._find(t,!1);return e>=0?this._values[e]:void 0},e.prototype.set=function(t,e){var r=this._find(t,!0);return this._values[r]=e,this},e.prototype.delete=function(e){var r=this._find(e,!1);if(r>=0){for(var n=this._keys.length,i=r+1;i<n;i++)this._keys[i-1]=this._keys[i],this._values[i-1]=this._values[i];return this._keys.length--,this._values.length--,e===this._cacheKey&&(this._cacheKey=t,this._cacheIndex=-2),!0}return!1},e.prototype.clear=function(){this._keys.length=0,this._values.length=0,this._cacheKey=t,this._cacheIndex=-2},e.prototype.keys=function(){return new r(this._keys,this._values,n)},e.prototype.values=function(){return new r(this._keys,this._values,o)},e.prototype.entries=function(){return new r(this._keys,this._values,s)},e.prototype["@@iterator"]=function(){return this.entries()},e.prototype[i]=function(){return this.entries()},e.prototype._find=function(t,e){return this._cacheKey!==t&&(this._cacheIndex=this._keys.indexOf(this._cacheKey=t)),this._cacheIndex<0&&e&&(this._cacheIndex=this._keys.length,this._keys.push(t),this._values.push(void 0)),this._cacheIndex},e}()}function rt(){return function(){function t(){this._map=new p}return Object.defineProperty(t.prototype,"size",{get:function(){return this._map.size},enumerable:!0,configurable:!0}),t.prototype.has=function(t){return this._map.has(t)},t.prototype.add=function(t){return this._map.set(t,t),this},t.prototype.delete=function(t){return this._map.delete(t)},t.prototype.clear=function(){this._map.clear()},t.prototype.keys=function(){return this._map.keys()},t.prototype.values=function(){return this._map.values()},t.prototype.entries=function(){return this._map.entries()},t.prototype["@@iterator"]=function(){return this.keys()},t.prototype[i]=function(){return this.keys()},t}()}function nt(){var t=16,r=c.create(),n=i();function i(){var t;do{t="@@WeakMap@@"+u()}while(c.has(r,t));return r[t]=!0,t}function o(t,r){if(!e.call(t,n)){if(!r)return;Object.defineProperty(t,n,{value:c.create()})}return t[n]}function s(t,e){for(var r=0;r<e;++r)t[r]=255*Math.random()|0;return t}function a(t){return"function"==typeof Uint8Array?"undefined"!=typeof crypto?crypto.getRandomValues(new Uint8Array(t)):"undefined"!=typeof msCrypto?msCrypto.getRandomValues(new Uint8Array(t)):s(new Uint8Array(t),t):s(new Array(t),t)}function u(){var e=a(t);e[6]=79&e[6]|64,e[8]=191&e[8]|128;for(var r="",n=0;n<t;++n){var i=e[n];4!==n&&6!==n&&8!==n||(r+="-"),i<16&&(r+="0"),r+=i.toString(16).toLowerCase()}return r}return function(){function t(){this._key=i()}return t.prototype.has=function(t){var e=o(t,!1);return void 0!==e&&c.has(e,this._key)},t.prototype.get=function(t){var e=o(t,!1);return void 0!==e?c.get(e,this._key):void 0},t.prototype.set=function(t,e){return o(t,!0)[this._key]=e,this},t.prototype.delete=function(t){var e=o(t,!1);return void 0!==e&&delete e[this._key]},t.prototype.clear=function(){this._key=i()},t}()}function it(t){return t.__=void 0,delete t.__,t}t("decorate",y),t("metadata",v),t("defineMetadata",m),t("hasMetadata",g),t("hasOwnMetadata",w),t("getMetadata",b),t("getOwnMetadata",x),t("getMetadataKeys",_),t("getOwnMetadataKeys",S),t("deleteMetadata",j)}(i)}()}(n||(n={}))})),i.register("d6KlF",(function(t,e){var r,n,i=t.exports={};function o(){throw new Error("setTimeout has not been defined")}function s(){throw new Error("clearTimeout has not been defined")}function a(t){if(r===setTimeout)return setTimeout(t,0);if((r===o||!r)&&setTimeout)return r=setTimeout,setTimeout(t,0);try{return r(t,0)}catch(e){try{return r.call(null,t,0)}catch(e){return r.call(this,t,0)}}}!function(){try{r="function"==typeof setTimeout?setTimeout:o}catch(t){r=o}try{n="function"==typeof clearTimeout?clearTimeout:s}catch(t){n=s}}();var u,c=[],l=!1,f=-1;function p(){l&&u&&(l=!1,u.length?c=u.concat(c):f=-1,c.length&&h())}function h(){if(!l){var t=a(p);l=!0;for(var e=c.length;e;){for(u=c,c=[];++f<e;)u&&u[f].run();f=-1,e=c.length}u=null,l=!1,function(t){if(n===clearTimeout)return clearTimeout(t);if((n===s||!n)&&clearTimeout)return n=clearTimeout,clearTimeout(t);try{n(t)}catch(e){try{return n.call(null,t)}catch(e){return n.call(this,t)}}}(t)}}function d(t,e){this.fun=t,this.array=e}function y(){}i.nextTick=function(t){var e=new Array(arguments.length-1);if(arguments.length>1)for(var r=1;r<arguments.length;r++)e[r-1]=arguments[r];c.push(new d(t,e)),1!==c.length||l||a(h)},d.prototype.run=function(){this.fun.apply(null,this.array)},i.title="browser",i.browser=!0,i.env={},i.argv=[],i.version="",i.versions={},i.on=y,i.addListener=y,i.once=y,i.off=y,i.removeListener=y,i.removeAllListeners=y,i.emit=y,i.prependListener=y,i.prependOnceListener=y,i.listeners=function(t){return[]},i.binding=function(t){throw new Error("process.binding is not supported")},i.cwd=function(){return"/"},i.chdir=function(t){throw new Error("process.chdir is not supported")},i.umask=function(){return 0}})),x(i("4hU38"),w),i.register("1P4GI",(function(t,e){Object.defineProperty(t.exports,"__esModule",{value:!0}),t.exports.Inject=void 0;var r=i("9ReE3");t.exports.Inject=function(t){return function(e,n,i){return Reflect.defineMetadata(r.INJECT_METADATA_KEY,t,e,`index-${i}`),e}}})),i.register("9ReE3",(function(t,e){Object.defineProperty(t.exports,"__esModule",{value:!0}),t.exports.getInjectionToken=t.exports.INJECT_METADATA_KEY=void 0,i("3XTdd"),t.exports.INJECT_METADATA_KEY=Symbol("INJECT_KEY"),t.exports.getInjectionToken=function(e,r){return Reflect.getMetadata(t.exports.INJECT_METADATA_KEY,e,`index-${r}`)}})),x(i("1P4GI"),w),i.register("h2a8J",(function(t,e){Object.defineProperty(t.exports,"__esModule",{value:!0}),t.exports.Injector=void 0;var r=i("ffMrg"),n=i("9ReE3"),o=i("j2Jup"),s=i("eL9SZ");class a{constructor(t){this.providers=new Map,t.forEach((t=>{this.assertInjectableIfClassProvider(t),this.providers.set(t.provide,t)}))}addProvider(t){this.assertInjectableIfClassProvider(t),this.providers.set(t.provide,t)}static create(t){return a.instance||(a.instance=new a(t)),a.instance}assertInjectableIfClassProvider(t){if(console.log((0,r.isClassProvider)(t)&&!(0,s.isInjectable)(t.useClass)),(0,r.isClassProvider)(t)&&!(0,s.isInjectable)(t.useClass))throw new Error(`Cannot provide ${this.getTokenName(t.provide)} using class ${this.getTokenName(t.useClass)}, ${this.getTokenName(t.useClass)} isn't injectable`)}getTokenName(t){return t instanceof m.InjectionToken?t.toString():t.name}get(t){const e=this.providers.get(t);return this.injectWithProvider(t,e)}injectWithProvider(t,e){if(void 0===e)throw new Error(`No provider for type ${this.getTokenName(t)}`);return(0,r.isClassProvider)(e)?this.injectClass(e):(0,r.isValueProvider)(e)?this.injectValue(e):this.injectFactory(e,e.deps)}injectValue(t){return t.useValue}injectFactory(t,e=[]){return t.useFactory(...e.map((t=>this.get(t))))}injectClass(t){const e=t.useClass,r=this.getInjectedParams(e);return Reflect.construct(e,r)}getInjectedParams(t){const e=Reflect.getMetadata(o.REFLECT_PARAMS,t);return void 0===e?[]:e.map(((e,r)=>{if(void 0===e)throw new Error(`Injection error. Recursive dependency detected in constructor for type ${t.name} with parameter at index ${r}`);const i=(0,n.getInjectionToken)(t,r),o=void 0===i?e:i,s=this.providers.get(o);return this.injectWithProvider(o,s)}))}}t.exports.Injector=a})),i.register("ffMrg",(function(t,e){Object.defineProperty(t.exports,"__esModule",{value:!0}),t.exports.isFactoryProvider=t.exports.isValueProvider=t.exports.isClassProvider=void 0,t.exports.isClassProvider=function(t){return void 0!==t.useClass},t.exports.isValueProvider=function(t){return void 0!==t.useValue},t.exports.isFactoryProvider=function(t){return void 0!==t.useFactory}})),i.register("j2Jup",(function(t,e){Object.defineProperty(t.exports,"__esModule",{value:!0}),t.exports.REFLECT_PARAMS=void 0,t.exports.REFLECT_PARAMS="design:paramtypes"})),x(i("h2a8J"),w);let _=g=w.Injectable()(g=class{add(t,e){this._audio.set(t,new Audio(e.pathname))}get(t){return this._audio.get(t)}constructor(){this._audio=new Map([])}})||g;new m.InjectionToken("player-state");const S=new m.InjectionToken("audio"),j=w.Injector.create([{provide:S,useClass:_}]).get(S);var k;i.register("kPq84",(function(e,r){var n;t(e.exports,"getBundleURL",(()=>n),(t=>n=t));var i={};function o(t){return(""+t).replace(/^((?:https?|file|ftp):\/\/.+)\/[^/]+$/,"$1")+"/"}n=function(t){var e=i[t];return e||(e=function(){try{throw new Error}catch(e){var t=(""+e.stack).match(/(https?|file|ftp):\/\/[^)\n]+/g);if(t)return o(t[2])}return"/"}(),i[t]=e),e}})),k=i("kPq84").getBundleURL("kyWCV")+i("bXuNP").resolve("hts9X"),j.add("timeWavePassBy4",new URL(k));var E;E=i("kPq84").getBundleURL("kyWCV")+i("bXuNP").resolve("mZqOX"),j.add("timeWaveRipple2",new URL(E));var P;P=i("kPq84").getBundleURL("kyWCV")+i("bXuNP").resolve("7z5iz"),j.add("clockTicking",new URL(P));var T;T=i("kPq84").getBundleURL("kyWCV")+i("bXuNP").resolve("2Y9IQ"),j.add("thunder",new URL(T));var A;A=i("kPq84").getBundleURL("kyWCV")+i("bXuNP").resolve("2vBSq"),j.add("yeaah",new URL(A));var I;I=i("kPq84").getBundleURL("kyWCV")+i("bXuNP").resolve("dDxAQ"),j.add("scream",new URL(I));var C;C=i("kPq84").getBundleURL("kyWCV")+i("bXuNP").resolve("bcCjA"),j.add("running",new URL(C));var R;R=i("kPq84").getBundleURL("kyWCV")+i("bXuNP").resolve("ctoNW"),j.add("jumpSpringUp",new URL(R));var O;function L(t,e,r,n,i,o){return o&&(t.ctx.fillStyle=o,t.ctx.fillRect(0,0,t.canvas.width,t.canvas.height)),t.ctx.fillStyle=e,t.ctx.beginPath(),t.ctx.moveTo(r,90),t.ctx.lineTo(r,90+i),t.ctx.lineTo(r+n,90+i),t.ctx.lineTo(r+n,90),t.ctx.ellipse(r+n/2,90,n/2,90,0,0,Math.PI,!0),t.ctx.fill(),t.canvas}O=i("kPq84").getBundleURL("kyWCV")+i("bXuNP").resolve("kcC6D"),j.add("jumpSpringDown",new URL(O));class M{constructor(t,e){this.x=t,this.y=e,this.x=t,this.y=e}draw(t){const e=this.x-t.state.pos.x,r=s(600,800,e-t.platform.width/2),n=s(600,800,e+t.platform.width/2);if(r>n){const i=s(560,800,e-t.platform.width/2),o=s(560,800,e+t.platform.width/2),a=new p(1600,250),u=L(new p(1600,250),"#2A3849",o,i-o,250,"#262525"),c=L(a,t.ctx.createPattern(u,"no-repeat"),n,r-n,250);t.ctx.drawImage(c,0,this.y+t.state.pos.y)}}}function F(t,e){t.lastPlatform&&e.n>t.lastPlatform.n&&(t.lastPlatform=e,t.points+=10*e.n,console.log(e.n))}function N(t,e,r,n,i){let o=new p(317,300),s=new Image;return s.onload=function(){i&&(o.ctx.save(),o.ctx.scale(-1,1)),o.ctx.drawImage(s,0,0,317*(i?-1:1),300),i&&o.ctx.restore(),t.animationFrames[r][n]=o.canvas},s.src=e,o.canvas}const U={easy:{x:{min:30,max:40},y:{min:30,max:40}},medium:{x:{min:20,max:45},y:{min:20,max:45}},hard:{x:{min:15,max:58},y:{min:15,max:58}}};function B(t){t.rect=t.container.getBoundingClientRect(),t.canvas.height,window.innerHeight}const H={platforms:[],doors:[new M(1600,350),new M(1205,-1160)],savedState:null,state:{paused:!1,finished:!1,points:0,lastPlatform:null,platformReached:null,titles:{opacity:0,ready:!1,text:"Não foi desta vez"},winner:{opacity:0,ready:!1,text:"Você conseguiu!!!"},climbstarted:!1,time:null,dt:null,climbspeed:{normal:.05,fast:.12},pos:{x:1510,y:0},lastPos:{x:1510,y:0},activePlatforms:[],jump:{isGrounded:!0,isJumping:!1,isBoosting:!1,speed:0,nextY:0},player:{dir:1,x:725,y:350,prevY:350,speed:0,animationFrame:0,animationFrameCount:0}}};const D={brick:{shine:"",shade:"rgba(256, 256, 256, 0.8)",color:"#7C747D",width:16,height:48,padding:4},platform:{height:22,width:13,color:"#5A4142"},tower:{width:1200,shadowWidth:130,skyWidth:200},sky:{bg:"rgb(10, 10, 10)",starSizes:[2,3,4,5],starColors:["#1E728C","#98ECFF","#7AEFFF","#FFF385"]},settings:{maxSpeed:.09,minSpeed:.01,friction:.7,acceleration:.02,jump:{gravity:{boost:.0014,normal:.003,down:.004},maxSpeed:.6,fallStartSpeed:.07,friction:.98}},colors:{bg:"#FBD0D0",wood1:"#B5754C",wood2:"#CB946D",wood3:"#4B3937",wood4:"#EB9A67",wood5:"#B46736"},storage:{bricks:null,sky:null,shadows:null},input:{left:!1,right:!1,jump:!1}};
/*! *****************************************************************************
Copyright (c) Microsoft Corporation.

Permission to use, copy, modify, and/or distribute this software for any
purpose with or without fee is hereby granted.

THE SOFTWARE IS PROVIDED "AS IS" AND THE AUTHOR DISCLAIMS ALL WARRANTIES WITH
REGARD TO THIS SOFTWARE INCLUDING ALL IMPLIED WARRANTIES OF MERCHANTABILITY
AND FITNESS. IN NO EVENT SHALL THE AUTHOR BE LIABLE FOR ANY SPECIAL, DIRECT,
INDIRECT, OR CONSEQUENTIAL DAMAGES OR ANY DAMAGES WHATSOEVER RESULTING FROM
LOSS OF USE, DATA OR PROFITS, WHETHER IN AN ACTION OF CONTRACT, NEGLIGENCE OR
OTHER TORTIOUS ACTION, ARISING OUT OF OR IN CONNECTION WITH THE USE OR
PERFORMANCE OF THIS SOFTWARE.
***************************************************************************** */var W=function(t,e){return(W=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&(t[r]=e[r])})(t,e)};function J(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");function r(){this.constructor=t}W(t,e),t.prototype=null===e?Object.create(e):(r.prototype=e.prototype,new r)}function Y(t,e,r,n){return new(r||(r=Promise))((function(i,o){function s(t){try{u(n.next(t))}catch(t){o(t)}}function a(t){try{u(n.throw(t))}catch(t){o(t)}}function u(t){var e;t.done?i(t.value):(e=t.value,e instanceof r?e:new r((function(t){t(e)}))).then(s,a)}u((n=n.apply(t,e||[])).next())}))}function $(t,e){var r,n,i,o,s={label:0,sent:function(){if(1&i[0])throw i[1];return i[1]},trys:[],ops:[]};function a(o){return function(a){return function(o){if(r)throw new TypeError("Generator is already executing.");for(;s;)try{if(r=1,n&&(i=2&o[0]?n.return:o[0]?n.throw||((i=n.return)&&i.call(n),0):n.next)&&!(i=i.call(n,o[1])).done)return i;switch(n=0,i&&(o=[2&o[0],i.value]),o[0]){case 0:case 1:i=o;break;case 4:return s.label++,{value:o[1],done:!1};case 5:s.label++,n=o[1],o=[0];continue;case 7:o=s.ops.pop(),s.trys.pop();continue;default:if(!(i=s.trys,(i=i.length>0&&i[i.length-1])||6!==o[0]&&2!==o[0])){s=0;continue}if(3===o[0]&&(!i||o[1]>i[0]&&o[1]<i[3])){s.label=o[1];break}if(6===o[0]&&s.label<i[1]){s.label=i[1],i=o;break}if(i&&s.label<i[2]){s.label=i[2],s.ops.push(o);break}i[2]&&s.ops.pop(),s.trys.pop();continue}o=e.call(t,s)}catch(t){o=[6,t],n=0}finally{r=i=0}if(5&o[0])throw o[1];return{value:o[0]?o[1]:void 0,done:!0}}([o,a])}}return o={next:a(0),throw:a(1),return:a(2)},"function"==typeof Symbol&&(o[Symbol.iterator]=function(){return this}),o}Object.create;function q(t){var e="function"==typeof Symbol&&Symbol.iterator,r=e&&t[e],n=0;if(r)return r.call(t);if(t&&"number"==typeof t.length)return{next:function(){return t&&n>=t.length&&(t=void 0),{value:t&&t[n++],done:!t}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")}function V(t,e){var r="function"==typeof Symbol&&t[Symbol.iterator];if(!r)return t;var n,i,o=r.call(t),s=[];try{for(;(void 0===e||e-- >0)&&!(n=o.next()).done;)s.push(n.value)}catch(t){i={error:t}}finally{try{n&&!n.done&&(r=o.return)&&r.call(o)}finally{if(i)throw i.error}}return s}function K(t,e,r){if(r||2===arguments.length)for(var n,i=0,o=e.length;i<o;i++)!n&&i in e||(n||(n=Array.prototype.slice.call(e,0,i)),n[i]=e[i]);return t.concat(n||Array.prototype.slice.call(e))}function X(t){return this instanceof X?(this.v=t,this):new X(t)}function z(t,e,r){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var n,i=r.apply(t,e||[]),o=[];function s(t){i[t]&&(n[t]=function(e){return new Promise((function(r,n){o.push([t,e,r,n])>1||a(t,e)}))})}function a(t,e){try{(r=i[t](e)).value instanceof X?Promise.resolve(r.value.v).then(u,c):l(o[0][2],r)}catch(t){l(o[0][3],t)}var r}function u(t){a("next",t)}function c(t){a("throw",t)}function l(t,e){t(e),o.shift(),o.length&&a(o[0][0],o[0][1])}return n={},s("next"),s("throw"),s("return"),n[Symbol.asyncIterator]=function(){return this},n}function G(t){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var e,r=t[Symbol.asyncIterator];function n(r){e[r]=t[r]&&function(e){return new Promise((function(n,i){(function(t,e,r,n){Promise.resolve(n).then((function(e){t({value:e,done:r})}),e)})(n,i,(e=t[r](e)).done,e.value)}))}}return r?r.call(t):(t=q(t),e={},n("next"),n("throw"),n("return"),e[Symbol.asyncIterator]=function(){return this},e)}Object.create;function Z(t){return"function"==typeof t}function Q(t){var e=t((function(t){Error.call(t),t.stack=(new Error).stack}));return e.prototype=Object.create(Error.prototype),e.prototype.constructor=e,e}var tt=Q((function(t){return function(e){t(this),this.message=e?e.length+" errors occurred during unsubscription:\n"+e.map((function(t,e){return e+1+") "+t.toString()})).join("\n  "):"",this.name="UnsubscriptionError",this.errors=e}}));function et(t,e){if(t){var r=t.indexOf(e);0<=r&&t.splice(r,1)}}var rt=function(){function t(t){this.initialTeardown=t,this.closed=!1,this._parentage=null,this._teardowns=null}var e;return t.prototype.unsubscribe=function(){var t,e,r,n,i;if(!this.closed){this.closed=!0;var o=this._parentage;if(o)if(this._parentage=null,Array.isArray(o))try{for(var s=q(o),a=s.next();!a.done;a=s.next()){a.value.remove(this)}}catch(e){t={error:e}}finally{try{a&&!a.done&&(e=s.return)&&e.call(s)}finally{if(t)throw t.error}}else o.remove(this);var u=this.initialTeardown;if(Z(u))try{u()}catch(t){i=t instanceof tt?t.errors:[t]}var c=this._teardowns;if(c){this._teardowns=null;try{for(var l=q(c),f=l.next();!f.done;f=l.next()){var p=f.value;try{ot(p)}catch(t){i=null!=i?i:[],t instanceof tt?i=K(K([],V(i)),V(t.errors)):i.push(t)}}}catch(t){r={error:t}}finally{try{f&&!f.done&&(n=l.return)&&n.call(l)}finally{if(r)throw r.error}}}if(i)throw new tt(i)}},t.prototype.add=function(e){var r;if(e&&e!==this)if(this.closed)ot(e);else{if(e instanceof t){if(e.closed||e._hasParent(this))return;e._addParent(this)}(this._teardowns=null!==(r=this._teardowns)&&void 0!==r?r:[]).push(e)}},t.prototype._hasParent=function(t){var e=this._parentage;return e===t||Array.isArray(e)&&e.includes(t)},t.prototype._addParent=function(t){var e=this._parentage;this._parentage=Array.isArray(e)?(e.push(t),e):e?[e,t]:t},t.prototype._removeParent=function(t){var e=this._parentage;e===t?this._parentage=null:Array.isArray(e)&&et(e,t)},t.prototype.remove=function(e){var r=this._teardowns;r&&et(r,e),e instanceof t&&e._removeParent(this)},t.EMPTY=((e=new t).closed=!0,e),t}(),nt=rt.EMPTY;function it(t){return t instanceof rt||t&&"closed"in t&&Z(t.remove)&&Z(t.add)&&Z(t.unsubscribe)}function ot(t){Z(t)?t():t.unsubscribe()}var st={onUnhandledError:null,onStoppedNotification:null,Promise:void 0,useDeprecatedSynchronousErrorHandling:!1,useDeprecatedNextContext:!1},at={setTimeout:function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];var r=at.delegate;return((null==r?void 0:r.setTimeout)||setTimeout).apply(void 0,K([],V(t)))},clearTimeout:function(t){var e=at.delegate;return((null==e?void 0:e.clearTimeout)||clearTimeout)(t)},delegate:void 0};function ut(t){at.setTimeout((function(){var e=st.onUnhandledError;if(!e)throw t;e(t)}))}function ct(){}var lt=ft("C",void 0,void 0);function ft(t,e,r){return{kind:t,value:e,error:r}}var pt=null;function ht(t){if(st.useDeprecatedSynchronousErrorHandling){var e=!pt;if(e&&(pt={errorThrown:!1,error:null}),t(),e){var r=pt,n=r.errorThrown,i=r.error;if(pt=null,n)throw i}}else t()}function dt(t){st.useDeprecatedSynchronousErrorHandling&&pt&&(pt.errorThrown=!0,pt.error=t)}var yt=function(t){function e(e){var r=t.call(this)||this;return r.isStopped=!1,e?(r.destination=e,it(e)&&e.add(r)):r.destination=bt,r}return J(e,t),e.create=function(t,e,r){return new vt(t,e,r)},e.prototype.next=function(t){this.isStopped?wt(function(t){return ft("N",t,void 0)}(t),this):this._next(t)},e.prototype.error=function(t){this.isStopped?wt(ft("E",void 0,t),this):(this.isStopped=!0,this._error(t))},e.prototype.complete=function(){this.isStopped?wt(lt,this):(this.isStopped=!0,this._complete())},e.prototype.unsubscribe=function(){this.closed||(this.isStopped=!0,t.prototype.unsubscribe.call(this),this.destination=null)},e.prototype._next=function(t){this.destination.next(t)},e.prototype._error=function(t){try{this.destination.error(t)}finally{this.unsubscribe()}},e.prototype._complete=function(){try{this.destination.complete()}finally{this.unsubscribe()}},e}(rt),vt=function(t){function e(e,r,n){var i,o=t.call(this)||this;if(Z(e))i=e;else if(e){var s;i=e.next,r=e.error,n=e.complete,o&&st.useDeprecatedNextContext?(s=Object.create(e)).unsubscribe=function(){return o.unsubscribe()}:s=e,i=null==i?void 0:i.bind(s),r=null==r?void 0:r.bind(s),n=null==n?void 0:n.bind(s)}return o.destination={next:i?mt(i,o):ct,error:mt(null!=r?r:gt,o),complete:n?mt(n,o):ct},o}return J(e,t),e}(yt);function mt(t,e){return function(){for(var e=[],r=0;r<arguments.length;r++)e[r]=arguments[r];try{t.apply(void 0,K([],V(e)))}catch(t){st.useDeprecatedSynchronousErrorHandling?dt(t):ut(t)}}}function gt(t){throw t}function wt(t,e){var r=st.onStoppedNotification;r&&at.setTimeout((function(){return r(t,e)}))}var bt={closed:!0,next:ct,error:gt,complete:ct},xt="function"==typeof Symbol&&Symbol.observable||"@@observable";function _t(t){return t}function St(t){return 0===t.length?_t:1===t.length?t[0]:function(e){return t.reduce((function(t,e){return e(t)}),e)}}var jt=function(){function t(t){t&&(this._subscribe=t)}return t.prototype.lift=function(e){var r=new t;return r.source=this,r.operator=e,r},t.prototype.subscribe=function(t,e,r){var n,i=this,o=(n=t)&&n instanceof yt||function(t){return t&&Z(t.next)&&Z(t.error)&&Z(t.complete)}(n)&&it(n)?t:new vt(t,e,r);return ht((function(){var t=i,e=t.operator,r=t.source;o.add(e?e.call(o,r):r?i._subscribe(o):i._trySubscribe(o))})),o},t.prototype._trySubscribe=function(t){try{return this._subscribe(t)}catch(e){t.error(e)}},t.prototype.forEach=function(t,e){var r=this;return new(e=kt(e))((function(e,n){var i=new vt({next:function(e){try{t(e)}catch(t){n(t),i.unsubscribe()}},error:n,complete:e});r.subscribe(i)}))},t.prototype._subscribe=function(t){var e;return null===(e=this.source)||void 0===e?void 0:e.subscribe(t)},t.prototype[xt]=function(){return this},t.prototype.pipe=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];return St(t)(this)},t.prototype.toPromise=function(t){var e=this;return new(t=kt(t))((function(t,r){var n;e.subscribe((function(t){return n=t}),(function(t){return r(t)}),(function(){return t(n)}))}))},t.create=function(e){return new t(e)},t}();function kt(t){var e;return null!==(e=null!=t?t:st.Promise)&&void 0!==e?e:Promise}var Et=Q((function(t){return function(){t(this),this.name="ObjectUnsubscribedError",this.message="object unsubscribed"}})),Pt=function(t){function e(){var e=t.call(this)||this;return e.closed=!1,e.observers=[],e.isStopped=!1,e.hasError=!1,e.thrownError=null,e}return J(e,t),e.prototype.lift=function(t){var e=new Tt(this,this);return e.operator=t,e},e.prototype._throwIfClosed=function(){if(this.closed)throw new Et},e.prototype.next=function(t){var e=this;ht((function(){var r,n;if(e._throwIfClosed(),!e.isStopped){var i=e.observers.slice();try{for(var o=q(i),s=o.next();!s.done;s=o.next()){s.value.next(t)}}catch(t){r={error:t}}finally{try{s&&!s.done&&(n=o.return)&&n.call(o)}finally{if(r)throw r.error}}}}))},e.prototype.error=function(t){var e=this;ht((function(){if(e._throwIfClosed(),!e.isStopped){e.hasError=e.isStopped=!0,e.thrownError=t;for(var r=e.observers;r.length;)r.shift().error(t)}}))},e.prototype.complete=function(){var t=this;ht((function(){if(t._throwIfClosed(),!t.isStopped){t.isStopped=!0;for(var e=t.observers;e.length;)e.shift().complete()}}))},e.prototype.unsubscribe=function(){this.isStopped=this.closed=!0,this.observers=null},Object.defineProperty(e.prototype,"observed",{get:function(){var t;return(null===(t=this.observers)||void 0===t?void 0:t.length)>0},enumerable:!1,configurable:!0}),e.prototype._trySubscribe=function(e){return this._throwIfClosed(),t.prototype._trySubscribe.call(this,e)},e.prototype._subscribe=function(t){return this._throwIfClosed(),this._checkFinalizedStatuses(t),this._innerSubscribe(t)},e.prototype._innerSubscribe=function(t){var e=this,r=e.hasError,n=e.isStopped,i=e.observers;return r||n?nt:(i.push(t),new rt((function(){return et(i,t)})))},e.prototype._checkFinalizedStatuses=function(t){var e=this,r=e.hasError,n=e.thrownError,i=e.isStopped;r?t.error(n):i&&t.complete()},e.prototype.asObservable=function(){var t=new jt;return t.source=this,t},e.create=function(t,e){return new Tt(t,e)},e}(jt),Tt=function(t){function e(e,r){var n=t.call(this)||this;return n.destination=e,n.source=r,n}return J(e,t),e.prototype.next=function(t){var e,r;null===(r=null===(e=this.destination)||void 0===e?void 0:e.next)||void 0===r||r.call(e,t)},e.prototype.error=function(t){var e,r;null===(r=null===(e=this.destination)||void 0===e?void 0:e.error)||void 0===r||r.call(e,t)},e.prototype.complete=function(){var t,e;null===(e=null===(t=this.destination)||void 0===t?void 0:t.complete)||void 0===e||e.call(t)},e.prototype._subscribe=function(t){var e,r;return null!==(r=null===(e=this.source)||void 0===e?void 0:e.subscribe(t))&&void 0!==r?r:nt},e}(Pt),At=function(t){function e(e){var r=t.call(this)||this;return r._value=e,r}return J(e,t),Object.defineProperty(e.prototype,"value",{get:function(){return this.getValue()},enumerable:!1,configurable:!0}),e.prototype._subscribe=function(e){var r=t.prototype._subscribe.call(this,e);return!r.closed&&e.next(this._value),r},e.prototype.getValue=function(){var t=this,e=t.hasError,r=t.thrownError,n=t._value;if(e)throw r;return this._throwIfClosed(),n},e.prototype.next=function(e){t.prototype.next.call(this,this._value=e)},e}(Pt),It=function(t){function e(e,r){return t.call(this)||this}return J(e,t),e.prototype.schedule=function(t,e){return void 0===e&&(e=0),this},e}(rt),Ct={setInterval:function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];var r=Ct.delegate;return((null==r?void 0:r.setInterval)||setInterval).apply(void 0,K([],V(t)))},clearInterval:function(t){var e=Ct.delegate;return((null==e?void 0:e.clearInterval)||clearInterval)(t)},delegate:void 0},Rt=function(t){function e(e,r){var n=t.call(this,e,r)||this;return n.scheduler=e,n.work=r,n.pending=!1,n}return J(e,t),e.prototype.schedule=function(t,e){if(void 0===e&&(e=0),this.closed)return this;this.state=t;var r=this.id,n=this.scheduler;return null!=r&&(this.id=this.recycleAsyncId(n,r,e)),this.pending=!0,this.delay=e,this.id=this.id||this.requestAsyncId(n,this.id,e),this},e.prototype.requestAsyncId=function(t,e,r){return void 0===r&&(r=0),Ct.setInterval(t.flush.bind(t,this),r)},e.prototype.recycleAsyncId=function(t,e,r){if(void 0===r&&(r=0),null!=r&&this.delay===r&&!1===this.pending)return e;Ct.clearInterval(e)},e.prototype.execute=function(t,e){if(this.closed)return new Error("executing a cancelled action");this.pending=!1;var r=this._execute(t,e);if(r)return r;!1===this.pending&&null!=this.id&&(this.id=this.recycleAsyncId(this.scheduler,this.id,null))},e.prototype._execute=function(t,e){var r,n=!1;try{this.work(t)}catch(t){n=!0,r=t||new Error("Scheduled action threw falsy error")}if(n)return this.unsubscribe(),r},e.prototype.unsubscribe=function(){if(!this.closed){var e=this.id,r=this.scheduler,n=r.actions;this.work=this.state=this.scheduler=null,this.pending=!1,et(n,this),null!=e&&(this.id=this.recycleAsyncId(r,e,null)),this.delay=null,t.prototype.unsubscribe.call(this)}},e}(It),Ot={now:function(){return(Ot.delegate||Date).now()},delegate:void 0},Lt=function(){function t(e,r){void 0===r&&(r=t.now),this.schedulerActionCtor=e,this.now=r}return t.prototype.schedule=function(t,e,r){return void 0===e&&(e=0),new this.schedulerActionCtor(this,t).schedule(r,e)},t.now=Ot.now,t}(),Mt=new(function(t){function e(e,r){void 0===r&&(r=Lt.now);var n=t.call(this,e,r)||this;return n.actions=[],n._active=!1,n._scheduled=void 0,n}return J(e,t),e.prototype.flush=function(t){var e=this.actions;if(this._active)e.push(t);else{var r;this._active=!0;do{if(r=t.execute(t.state,t.delay))break}while(t=e.shift());if(this._active=!1,r){for(;t=e.shift();)t.unsubscribe();throw r}}},e}(Lt))(Rt),Ft=Mt;function Nt(t,e,r){void 0===t&&(t=0),void 0===r&&(r=Ft);var n,i=-1;return null!=e&&((n=e)&&Z(n.schedule)?r=e:i=e),new jt((function(e){var n=function(t){return t instanceof Date&&!isNaN(t)}(t)?+t-r.now():t;n<0&&(n=0);var o=0;return r.schedule((function(){e.closed||(e.next(o++),0<=i?this.schedule(void 0,i):e.complete())}),n)}))}function Ut(t,e){return void 0===t&&(t=0),void 0===e&&(e=Mt),t<0&&(t=0),Nt(t,t,e)}function Bt(t){return function(e){if(function(t){return Z(null==t?void 0:t.lift)}(e))return e.lift((function(e){try{return t(e,this)}catch(t){this.error(t)}}));throw new TypeError("Unable to lift unknown Observable type")}}var Ht=function(t){function e(e,r,n,i,o){var s=t.call(this,e)||this;return s.onFinalize=o,s._next=r?function(t){try{r(t)}catch(t){e.error(t)}}:t.prototype._next,s._error=i?function(t){try{i(t)}catch(t){e.error(t)}finally{this.unsubscribe()}}:t.prototype._error,s._complete=n?function(){try{n()}catch(t){e.error(t)}finally{this.unsubscribe()}}:t.prototype._complete,s}return J(e,t),e.prototype.unsubscribe=function(){var e,r=this.closed;t.prototype.unsubscribe.call(this),!r&&(null===(e=this.onFinalize)||void 0===e||e.call(this))},e}(yt);function Dt(t,e){return Bt((function(r,n){var i=0;r.subscribe(new Ht(n,(function(r){n.next(t.call(e,r,i++))})))}))}var Wt="function"==typeof Symbol&&Symbol.iterator?Symbol.iterator:"@@iterator";function Jt(t){if(t instanceof jt)return t;if(null!=t){if(function(t){return Z(t[xt])}(t))return s=t,new jt((function(t){var e=s[xt]();if(Z(e.subscribe))return e.subscribe(t);throw new TypeError("Provided object does not correctly implement Symbol.observable")}));if((o=t)&&"number"==typeof o.length&&"function"!=typeof o)return i=t,new jt((function(t){for(var e=0;e<i.length&&!t.closed;e++)t.next(i[e]);t.complete()}));if(Z(null==(n=t)?void 0:n.then))return r=t,new jt((function(t){r.then((function(e){t.closed||(t.next(e),t.complete())}),(function(e){return t.error(e)})).then(null,ut)}));if(function(t){return Symbol.asyncIterator&&Z(null==t?void 0:t[Symbol.asyncIterator])}(t))return Yt(t);if(function(t){return Z(null==t?void 0:t[Wt])}(t))return e=t,new jt((function(t){var r,n;try{for(var i=q(e),o=i.next();!o.done;o=i.next()){var s=o.value;if(t.next(s),t.closed)return}}catch(t){r={error:t}}finally{try{o&&!o.done&&(n=i.return)&&n.call(i)}finally{if(r)throw r.error}}t.complete()}));if(function(t){return Z(null==t?void 0:t.getReader)}(t))return Yt(function(t){return z(this,arguments,(function(){var e,r,n;return $(this,(function(i){switch(i.label){case 0:e=t.getReader(),i.label=1;case 1:i.trys.push([1,,9,10]),i.label=2;case 2:return[4,X(e.read())];case 3:return r=i.sent(),n=r.value,r.done?[4,X(void 0)]:[3,5];case 4:return[2,i.sent()];case 5:return[4,X(n)];case 6:return[4,i.sent()];case 7:return i.sent(),[3,2];case 8:return[3,10];case 9:return e.releaseLock(),[7];case 10:return[2]}}))}))}(t))}var e,r,n,i,o,s;throw function(t){return new TypeError("You provided "+(null!==t&&"object"==typeof t?"an invalid object":"'"+t+"'")+" where a stream was expected. You can provide an Observable, Promise, ReadableStream, Array, AsyncIterable, or Iterable.")}(t)}function Yt(t){return new jt((function(e){(function(t,e){var r,n,i,o;return Y(this,void 0,void 0,(function(){var s,a;return $(this,(function(u){switch(u.label){case 0:u.trys.push([0,5,6,11]),r=G(t),u.label=1;case 1:return[4,r.next()];case 2:if((n=u.sent()).done)return[3,4];if(s=n.value,e.next(s),e.closed)return[2];u.label=3;case 3:return[3,1];case 4:return[3,11];case 5:return a=u.sent(),i={error:a},[3,11];case 6:return u.trys.push([6,,9,10]),n&&!n.done&&(o=r.return)?[4,o.call(r)]:[3,8];case 7:u.sent(),u.label=8;case 8:return[3,10];case 9:if(i)throw i.error;return[7];case 10:return[7];case 11:return e.complete(),[2]}}))}))})(t,e).catch((function(t){return e.error(t)}))}))}var $t=new jt((function(t){return t.complete()}));function qt(t,e){return void 0===e&&(e=_t),t=null!=t?t:Vt,Bt((function(r,n){var i,o=!0;r.subscribe(new Ht(n,(function(r){var s=e(r);!o&&t(i,s)||(o=!1,i=s,n.next(r))})))}))}function Vt(t,e){return t===e}class Kt{get state(){return this.state$.getValue()}constructor(t){this.state$=new At(t)}select(t){return this.state$.asObservable().pipe(Dt((e=>t(e))),qt())}setState(t){this.state$.next({...this.state,...t})}}const Xt=new class{_getArrow(t){switch(t){case"ArrowLeft":return"left";case"ArrowRight":return"right";case"ArrowUp":return"up";case"ArrowDown":return"down"}}_inArrows(t){return this._arrows.includes(t)}_isSpace(t){return" "===t}_getKey(t){return t.toLowerCase()}_getState(t){return this._inArrows(t)?this._getArrow(t):this._isSpace(t)?"space":this._getKey(t)}initialize(){window.addEventListener("keydown",this._setState),window.addEventListener("keyup",this._setState)}stop(){window.removeEventListener("keydown",this._setState),window.removeEventListener("keyup",this._setState)}constructor(){this.state=new At(null),this.state$=this.state.asObservable().pipe(qt(((t,e)=>t===e))),this._arrows=["ArrowLeft","ArrowRight","ArrowUp","ArrowDown"],this._setState=t=>{this.state.next(this._getState(t.key))}}};const zt=new class extends Kt{boost(){this.setState({boosting:!0})}jumpUp(){this.setState({jumping:!0,boosting:!0,grounded:!1})}jumpDown(){this.setState({jumping:!1,boosting:!1})}setSpeed(t){this.setState({speed:t})}setPlatform(t){this.setState({platform:t})}run(){this.setState({running:!0})}idle(){this.setState({running:!1})}pause(){this.setState({paused:!0})}resume(){this.setState({paused:!1})}toTurn(t){this.setState({dir:t})}get grounded(){return this.state.grounded}get boosting(){return this.state.boosting}get jumping(){return this.state.jumping}get running(){return this.state.running}get paused(){return this.state.paused}get platform(){return this.state.platform}get speed(){return this.state.speed}get pos(){return this.state.pos}get dir(){return this.state.dir}constructor(...t){super(...t),this.grounded$=this.select((t=>t.grounded)),this.boosting$=this.select((t=>t.boosting)),this.jumping$=this.select((t=>t.jumping)),this.running$=this.select((t=>t.running)),this.platform$=this.select((t=>t.platform)),this.paused$=this.select((t=>t.paused)),this.dir$=this.select((t=>t.dir)),this.pos$=this.select((t=>t.pos)),this.speed$=this.select((t=>t.speed))}}({grounded:!1,boosting:!1,jumping:!1,running:!1,paused:!1,platform:0,dir:1,pos:new u(0,0),speed:0});function Gt(t){return document.querySelector(`#${t}`)}const Zt={fullscreen:Gt("fullscreen"),jump:Gt("jump"),left:Gt("left"),right:Gt("right")},Qt=document.querySelector("form"),te=Qt.elements.namedItem("points"),ee=Qt.elements.namedItem("seconds");ee.value="40";const re=document.querySelector("#container"),ne=document.querySelector("canvas"),ie=new p(10,10).canvas,oe=function(t={}){return{...D,...t}}(),se=function(t=function(){return document.createElement("div")}(),e=function(){return document.createElement("canvas")}(),r=function(){return new p(10,10).canvas}()){const n=e.getContext("2d"),i=t.getBoundingClientRect();return{container:t,canvas:e,ctx:n,rect:i,animationFrames:{standing:[r,r],jumpingUp:[r,r],jumpingDown:[r,r],runningLeft:[r,r,r,r],runningRight:[r,r,r,r]}}}(re,ne,ie),ae=j.get("jumpSpringDown"),ue=j.get("jumpSpringUp"),ce=j.get("timeWaveRipple2"),le=j.get("running"),fe=j.get("thunder"),pe=j.get("scream"),he=location.hash.substring(1),de=(ve=ye=he,Object.keys(U).includes(ve)?U[ye]:U.easy);var ye,ve;const me=function(t,e=80){let r=0,n=0;const i=(t,e)=>Math.floor(Math.random()*(e-t+1))+t;return new Array(e).fill({x:r,y:n}).map(((e,o)=>(r=0===r?1600:i(r-t.x.min,r-t.x.max),n=0===n?600:i(n-(t.y.min-20),n-2.5*t.y.max),{x:r,y:n})))}(de,(de.x.min+de.x.max)/2|0),ge=me.map((({x:t,y:e})=>new l(t,e)));var we;we=me,window.positions=we;const be=[new M(1600,350)],xe=me.pop();xe&&be.push(new M(xe.x,xe.y-250));const _e={...oe,...se,...function(t={}){return{...H,...t}}({doors:be})};_e.platforms.push(...ge),onpopstate=t=>location.reload();let Se=!1;function je(){Se=!0,pe.play(),ce.play()}const ke=new class{get countdown$(){return this._countdown.asObservable()}get gameover$(){return this._gameover.asObservable().pipe((t=1)<=0?function(){return $t}:Bt((function(e,r){var n=0;e.subscribe(new Ht(r,(function(e){++n<=t&&(r.next(e),t<=n&&r.complete())})))})));var t}constructor(t=60){this.duration=t,this._countdown=new At(t),this._gameover=new At(!1)}start(){const t=this._timeKeeper(this.duration);var e;this._subscription=t.pipe(Dt((t=>this.duration-t)),(e=()=>this._gameover.next(!0),Bt((function(t,r){try{t.subscribe(r)}finally{r.add(e)}})))).subscribe((t=>this._countdown.next(t)))}reset(){this._subscription&&this._subscription.unsubscribe(),this.start()}_timeKeeper(t=this.duration){const e=Ut(1e3),r=Nt(1e3*t);return e.pipe((n=r,Bt((function(t,e){Jt(n).subscribe(new Ht(e,(function(){return e.complete()}),ct)),!e.closed&&t.subscribe(e)}))));var n}}(+ee.value);function Ee(){const t=document.timeline.currentTime??0;var e;_e.state.dt=t-(_e.state.time||t),_e.state.time=t,_e.state.paused||function(){_e.input.left?_e.state.player.speed+=_e.settings.acceleration:_e.input.right?_e.state.player.speed-=_e.settings.acceleration:0!==_e.state.player.speed&&(_e.state.player.speed*=_e.state.jump.isJumping?_e.settings.jump.friction:_e.settings.friction);Math.abs(_e.state.player.speed)>_e.settings.maxSpeed?_e.state.player.speed=_e.state.player.speed>0?_e.settings.maxSpeed:-1*_e.settings.maxSpeed:Math.abs(_e.state.player.speed)<_e.settings.minSpeed&&(zt.idle(),zt.setSpeed(0),_e.state.player.speed=0);if(0!==_e.state.player.speed){_e.state.jump.isJumping||zt.run();const t=_e.state.jump.isJumping?.7*_e.state.player.speed:_e.state.player.speed;zt.setSpeed(t),_e.state.pos.x+=_e.state.player.speed<0?Math.ceil(t*_e.state.dt):Math.floor(t*_e.state.dt);const e=t>0?0:1;zt.toTurn(e),_e.state.player.dir=e}!_e.state.climbstarted&&_e.input.jump&&(_e.state.climbstarted=!0);if((_e.input.jump||_e.state.jump.isJumping)&&(_e.state.jump.isGrounded&&(zt.jumpUp(),zt.idle(),_e.state.jump.isGrounded=!1,_e.state.jump.isJumping=!0,_e.state.jump.isBoosting=!0,_e.state.jump.speed=_e.settings.jump.maxSpeed),_e.state.jump.isJumping)){const t=_e.state.jump.speed>0,e=_e.state.dt<30?30-_e.state.dt:0;!t&&_e.state.jump.isBoosting&&(_e.state.jump.isBoosting=!1),_e.state.player.prevY=_e.state.player.y,_e.state.player.y-=_e.state.jump.speed*_e.state.dt,_e.state.jump.speed-=(_e.settings.jump.gravity[t?_e.state.jump.isBoosting?"boost":"normal":"down"]-2e-5*e)*_e.state.dt}_e.state.jump.isBoosting&&!_e.input.jump&&(_e.state.jump.isBoosting=!1);_e.state.climbstarted&&_e.state.pos.y<1440&&(_e.state.pos.y+=(_e.state.player.y+_e.state.pos.y<250?_e.state.climbspeed.fast:_e.state.climbspeed.normal)*_e.state.dt);(function(){if(_e.state.jump.isJumping&&_e.state.jump.speed<0)for(let t=0;t<_e.state.activePlatforms.length;t++){const e=_e.state.activePlatforms[t];if(Math.abs(e.x-(_e.state.pos.x+90))<10){const t=_e.state.player.y+250,r=_e.state.player.prevY+250;t>e.y&&r<e.y&&(zt.setPlatform(e.n),zt.jumpDown(),zt.idle(),navigator.vibrate(50),F(_e.state,e),te.value=(0|_e.state.points).toString(),_e.state.player.y=e.y-250,_e.state.jump.isGrounded=!0,_e.state.jump.isJumping=!1,_e.state.jump.isBoosting=!1,_e.state.jump.speed=0)}}else if(_e.state.jump.isGrounded){let t=!1;for(let e=0;e<_e.state.activePlatforms.length;e++){let r=_e.state.activePlatforms[e];if(Math.abs(r.x-(_e.state.pos.x+90))<10&&r.y-(_e.state.player.y+250)==0){t=!0;break}}t||(zt.jumpUp(),_e.state.jump.isGrounded=!1,_e.state.jump.isJumping=!0,_e.state.jump.isBoosting=!0,_e.state.jump.speed=_e.settings.jump.fallStartSpeed)}else _e.doors.forEach((t=>function(t,e){Math.abs(e.x-(t.state.pos.x+40))<10&&(t.state.finished||j.get("yeaah")?.play())}(_e,t)))})(),_e.state.player.y+_e.state.pos.y>900&&(zt.pause(),zt.idle(),_e.state.paused=!0);_e.state.lastPlatform&&_e.state.lastPlatform.n===ge.length-1&&(_e.state.finished=!0)}(),_e.state.lastPlatform||(_e.state.lastPlatform=_e.platforms[0],Se=!1),_e.state.paused||100===_e.state.titles.opacity||100===_e.state.winner.opacity||(function(t){if(null==t.storage.sky){const e=t.canvas.height,r=new p(t.canvas.width,e);r.ctx.fillStyle=t.sky.bg,r.ctx.fillRect(0,0,t.canvas.width,e);for(let n=0;n<150;n++){const n=Math.floor(Math.random()*t.sky.starSizes.length);r.ctx.fillStyle=t.sky.starColors[n],r.ctx.beginPath(),r.ctx.arc(Math.floor(Math.random()*t.canvas.width),Math.floor(Math.random()*e),t.sky.starSizes[n],0,2*Math.PI),r.ctx.fill()}t.storage.sky=r.canvas}else{const e=(t.state.pos.x-2e3)%200*-8,r=t.state.pos.y%t.canvas.height;t.ctx.drawImage(t.storage.sky,e,r),t.ctx.drawImage(t.storage.sky,e-t.canvas.width,r),t.ctx.drawImage(t.storage.sky,e,r-t.canvas.height),t.ctx.drawImage(t.storage.sky,e-t.canvas.width,r-t.canvas.height)}}(_e),h(_e,!1),function(t){const e=2*t.brick.height+2*t.brick.padding;if(!t.storage.bricks){t.storage.bricks={};for(let r=0;r<16;r++)t.storage.bricks["brick"+r]=v(t,e,r)}for(let r=-1;r<12;r++)t.ctx.drawImage(t.storage.bricks["brick"+t.state.pos.x%t.brick.width],t.tower.skyWidth,e*r+t.state.pos.y%e)}(_e),(e=_e).doors.forEach((t=>{t.x<e.state.pos.x-40||t.x>e.state.pos.x+220||t.draw(e)})),function(t){if(t.storage.shadows)t.ctx.drawImage(t.storage.shadows,t.tower.skyWidth,0);else{const e=new p(t.tower.width,t.canvas.height);f(e.ctx,0,t.tower.shadowWidth+80,t.canvas.height,"#666666","transparent"),f(e.ctx,0,t.tower.shadowWidth,t.canvas.height,"rgb(10, 10, 10)","transparent"),f(e.ctx,e.canvas.width-(t.tower.shadowWidth+80),t.tower.shadowWidth+80,t.canvas.height,"transparent","#666666"),f(e.ctx,e.canvas.width-t.tower.shadowWidth,t.tower.shadowWidth,t.canvas.height,"transparent","rgb(10, 10, 10)"),t.storage.shadows=e.canvas}}(_e),h(_e,!0),function(t){const e=t.state.player.y+t.state.pos.y-48,r=t.state.player.x-(t.state.player.dir?120:80);t.state.jump.isJumping?t.state.jump.speed>0?t.ctx.drawImage(t.animationFrames.jumpingUp[t.state.player.dir],r,e):t.ctx.drawImage(t.animationFrames.jumpingDown[t.state.player.dir],r,e):0!==t.state.player.speed?t.state.player.dir?t.ctx.drawImage(t.animationFrames.runningRight[t.state.player.animationFrame],r,e):t.ctx.drawImage(t.animationFrames.runningLeft[t.state.player.animationFrame],r,e):t.ctx.drawImage(t.animationFrames.standing[t.state.player.dir],r,e),t.state.player.animationFrameCount+=t.state.dt,t.state.player.animationFrameCount>50&&(t.state.player.animationFrame+=1,t.state.player.animationFrameCount=0),t.state.player.animationFrame>3&&(t.state.player.animationFrame=0)}(_e)),!_e.state.paused&&_e.state.finished&&function(t){t.state.dt&&t.state.winner.opacity<100&&(t.state.winner.opacity+=Math.floor(.2*t.state.dt)),t.state.winner.opacity>100&&(t.state.winner.opacity=100),t.ctx.fillStyle="rgba(10, 10, 10, "+t.state.winner.opacity/100+")",t.ctx.rect(0,0,t.canvas.width,t.canvas.height),t.ctx.fill(),t.ctx.fillStyle="rgba(6, 231, 65, "+t.state.winner.opacity/100+")",t.ctx.font="64px 'Germania One', cursive",t.ctx.fillText(t.state.winner.text,600,520-40*y(t.state.winner.opacity/100)),100==t.state.winner.opacity&&t.input.jump&&(t.state.winner.ready=!0),t.state.winner.ready&&t.input.jump&&(t.state=JSON.parse(JSON.stringify(t.savedState)),t.state.lastPlatform=null)}(_e),_e.state.paused&&(!function(t){t.state.dt&&t.state.titles.opacity<100&&(t.state.titles.opacity+=Math.floor(.2*t.state.dt)),t.state.titles.opacity>100&&(t.state.titles.opacity=100),t.ctx.fillStyle="rgba(10, 10, 10, "+t.state.titles.opacity/100+")",t.ctx.rect(0,0,t.canvas.width,t.canvas.height),t.ctx.fill(),t.ctx.fillStyle="rgba(255, 236, 61, "+t.state.titles.opacity/100+")",t.ctx.font="64px 'Germania One', cursive",t.ctx.fillText(t.state.titles.text,600,520-40*y(t.state.titles.opacity/100)),100!=t.state.titles.opacity||t.input.jump||(t.state.titles.ready=!0),t.state.titles.ready&&t.input.jump&&(t.state=JSON.parse(JSON.stringify(t.savedState)),t.state.lastPlatform=null)}(_e),Se||je()),requestAnimationFrame(Ee)}var Pe;Pe=i("kPq84").getBundleURL("kyWCV")+i("bXuNP").resolve("nuIm3");var Te;Te=i("kPq84").getBundleURL("kyWCV")+i("bXuNP").resolve("gc5NC");var Ae;Ae=i("kPq84").getBundleURL("kyWCV")+i("bXuNP").resolve("6JlzR");var Ie;Ie=i("kPq84").getBundleURL("kyWCV")+i("bXuNP").resolve("6gMiH");var Ce;Ce=i("kPq84").getBundleURL("kyWCV")+i("bXuNP").resolve("78b94");let Re=!1;let Oe=!1;(async()=>{_e.savedState||(_e.savedState=JSON.parse(JSON.stringify(_e.state))),B(_e),window.addEventListener("resize",(()=>B(_e))),window.addEventListener("keydown",(t=>function(t,e){d(t,e,!0)}(_e,t)),!1),window.addEventListener("keyup",(t=>function(t,e){d(t,e,!1)}(_e,t)),!1),Zt.jump.ontouchstart=()=>{Re||Zt.fullscreen.click(),_e.input.jump=!0},Zt.jump.ontouchend=()=>_e.input.jump=!1,Zt.left.ontouchstart=()=>_e.input.left=!0,Zt.left.ontouchend=()=>_e.input.left=!1,Zt.right.ontouchstart=()=>_e.input.right=!0,Zt.right.ontouchend=()=>_e.input.right=!1,Xt.initialize(),function(t){const e=new URL(Pe),r=new URL(Te),n=new URL(Ae),i=new URL(Ie),o=new URL(Ce);N(t,e.pathname,"standing",0,!1),N(t,e.pathname,"standing",1,!0),N(t,r.pathname,"jumpingUp",0,!1),N(t,r.pathname,"jumpingUp",1,!0),N(t,n.pathname,"jumpingDown",0,!1),N(t,n.pathname,"jumpingDown",1,!0),N(t,i.pathname,"runningLeft",0,!1),N(t,i.pathname,"runningLeft",1,!1),N(t,i.pathname,"runningRight",0,!0),N(t,i.pathname,"runningRight",1,!0),N(t,o.pathname,"runningRight",2,!0),N(t,o.pathname,"runningLeft",2,!1),N(t,o.pathname,"runningLeft",3,!1),N(t,o.pathname,"runningRight",3,!0)}(_e),Ee()})().then((async()=>{(()=>{const t=Zt.fullscreen.querySelector("#fullscreen-enter"),e=Zt.fullscreen.querySelector("#fullscreen-exit");Zt.fullscreen.focus(),Zt.fullscreen.onclick=()=>{document.fullscreenElement?(document.exitFullscreen(),e?.classList.remove("hidden"),t?.classList.add("hidden")):(document.documentElement.requestFullscreen(),e?.classList.add("hidden"),t?.classList.remove("hidden")),Zt.fullscreen.blur(),Oe=!Oe},document.onfullscreenchange=t=>{console.log(t)}})(),zt.jumping$.subscribe((async t=>{t||(ue.paused||ue.pause(),ae.paused&&await ae.play()),t&&(ae.paused||ae.pause(),ue.paused&&await ue.play())})),zt.running$.subscribe((t=>{!Re&&t&&(fe.play(),ke.start(),ke.gameover$.subscribe((t=>{console.log("isOver: ",t),t&&!_e.state.paused&&(_e.state.paused=!0,zt.pause(),zt.idle(),je())})),ke.countdown$.subscribe((t=>{ee.value=`${t}`})),Re=!0),t||le.pause(),t&&le.play()}))}));
//# sourceMappingURL=index.70250dc8.js.map
