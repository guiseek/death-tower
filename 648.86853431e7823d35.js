"use strict";(self.webpackChunkgame=self.webpackChunkgame||[]).push([[648],{5648:(mr,Qe,h)=>{h.r(Qe),h.d(Qe,{PagesModule:()=>pr});var p=h(9808),o=h(4893),pe=(h(2076),h(8306)),$=(h(4742),h(8421)),K=(h(3269),h(5403)),et=h(3268);h(1810),h(4004);let Ht=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=o.oAB({type:n}),n.\u0275inj=o.cJS({}),n})();const Te=new o.OlP("NgModelWithFormControlWarning");let Be,eo=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=o.oAB({type:n}),n.\u0275inj=o.cJS({imports:[[Ht]]}),n})(),rn=(()=>{class n{static withConfig(e){return{ngModule:n,providers:[{provide:Te,useValue:e.warnOnNgModelWithFormControl}]}}}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=o.oAB({type:n}),n.\u0275inj=o.cJS({imports:[eo]}),n})();try{Be="undefined"!=typeof Intl&&Intl.v8BreakIterator}catch(n){Be=!1}let T,S=(()=>{class n{constructor(e){this._platformId=e,this.isBrowser=this._platformId?(0,p.NF)(this._platformId):"object"==typeof document&&!!document,this.EDGE=this.isBrowser&&/(edge)/i.test(navigator.userAgent),this.TRIDENT=this.isBrowser&&/(msie|trident)/i.test(navigator.userAgent),this.BLINK=this.isBrowser&&!(!window.chrome&&!Be)&&"undefined"!=typeof CSS&&!this.EDGE&&!this.TRIDENT,this.WEBKIT=this.isBrowser&&/AppleWebKit/i.test(navigator.userAgent)&&!this.BLINK&&!this.EDGE&&!this.TRIDENT,this.IOS=this.isBrowser&&/iPad|iPhone|iPod/.test(navigator.userAgent)&&!("MSStream"in window),this.FIREFOX=this.isBrowser&&/(firefox|minefield)/i.test(navigator.userAgent),this.ANDROID=this.isBrowser&&/android/i.test(navigator.userAgent)&&!this.TRIDENT,this.SAFARI=this.isBrowser&&/safari/i.test(navigator.userAgent)&&this.WEBKIT}}return n.\u0275fac=function(e){return new(e||n)(o.LFG(o.Lbi))},n.\u0275prov=o.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})(),je=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=o.oAB({type:n}),n.\u0275inj=o.cJS({}),n})();function no(){if(null==T){if("object"!=typeof document||!document||"function"!=typeof Element||!Element)return T=!1,T;if("scrollBehavior"in document.documentElement.style)T=!0;else{const n=Element.prototype.scrollTo;T=!!n&&!/\{\s*\[native code\]\s*\}/.test(n.toString())}}return T}function cn(n){return n.composedPath?n.composedPath()[0]:n.target}function dn(){return"undefined"!=typeof __karma__&&!!__karma__||"undefined"!=typeof jasmine&&!!jasmine||"undefined"!=typeof jest&&!!jest||"undefined"!=typeof Mocha&&!!Mocha}let oo=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=o.oAB({type:n}),n.\u0275inj=o.cJS({}),n})();const un=new Set;let N,so=(()=>{class n{constructor(e){this._platform=e,this._matchMedia=this._platform.isBrowser&&window.matchMedia?window.matchMedia.bind(window):ao}matchMedia(e){return(this._platform.WEBKIT||this._platform.BLINK)&&function ro(n){if(!un.has(n))try{N||(N=document.createElement("style"),N.setAttribute("type","text/css"),document.head.appendChild(N)),N.sheet&&(N.sheet.insertRule(`@media ${n} {body{ }}`,0),un.add(n))}catch(t){console.error(t)}}(e),this._matchMedia(e)}}return n.\u0275fac=function(e){return new(e||n)(o.LFG(S))},n.\u0275prov=o.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();function ao(n){return{matches:"all"===n||""===n,media:n,addListener:()=>{},removeListener:()=>{}}}function hn(n){return Array.isArray(n)?n:[n]}function m(n){return null==n?"":"string"==typeof n?n:`${n}px`}var b=h(7579),uo=h(9646),ho=h(5577),fo=h(1144),V=h(576);const po=["addListener","removeListener"],mo=["addEventListener","removeEventListener"],go=["on","off"];function He(n,t,e,i){if((0,V.m)(e)&&(i=e,e=void 0),i)return He(n,t,e).pipe((0,et.Z)(i));const[s,r]=function yo(n){return(0,V.m)(n.addEventListener)&&(0,V.m)(n.removeEventListener)}(n)?mo.map(a=>l=>n[a](t,l,e)):function _o(n){return(0,V.m)(n.addListener)&&(0,V.m)(n.removeListener)}(n)?po.map(fn(n,t)):function vo(n){return(0,V.m)(n.on)&&(0,V.m)(n.off)}(n)?go.map(fn(n,t)):[];if(!s&&(0,fo.z)(n))return(0,ho.z)(a=>He(a,t,e))((0,$.Xf)(n));if(!s)throw new TypeError("Invalid event target");return new pe.y(a=>{const l=(...c)=>a.next(1<c.length?c:c[0]);return s(l),()=>r(l)})}function fn(n,t){return e=>i=>n[e](t,i)}var pn=h(4408),Ue=h(727);const W={schedule(n){let t=requestAnimationFrame,e=cancelAnimationFrame;const{delegate:i}=W;i&&(t=i.requestAnimationFrame,e=i.cancelAnimationFrame);const s=t(r=>{e=void 0,n(r)});return new Ue.w0(()=>null==e?void 0:e(s))},requestAnimationFrame(...n){const{delegate:t}=W;return((null==t?void 0:t.requestAnimationFrame)||requestAnimationFrame)(...n)},cancelAnimationFrame(...n){const{delegate:t}=W;return((null==t?void 0:t.cancelAnimationFrame)||cancelAnimationFrame)(...n)},delegate:void 0};var mn=h(640);new class bo extends mn.v{flush(t){this._active=!0,this._scheduled=void 0;const{actions:e}=this;let i,s=-1;t=t||e.shift();const r=e.length;do{if(i=t.execute(t.state,t.delay))break}while(++s<r&&(t=e.shift()));if(this._active=!1,i){for(;++s<r&&(t=e.shift());)t.unsubscribe();throw i}}}(class Co extends pn.o{constructor(t,e){super(t,e),this.scheduler=t,this.work=e}requestAsyncId(t,e,i=0){return null!==i&&i>0?super.requestAsyncId(t,e,i):(t.actions.push(this),t._scheduled||(t._scheduled=W.requestAnimationFrame(()=>t.flush(void 0))))}recycleAsyncId(t,e,i=0){if(null!=i&&i>0||null==i&&this.delay>0)return super.recycleAsyncId(t,e,i);0===t.actions.length&&(W.cancelAnimationFrame(e),t._scheduled=void 0)}});let ze,Eo=1;const ae={};function gn(n){return n in ae&&(delete ae[n],!0)}const Oo={setImmediate(n){const t=Eo++;return ae[t]=!0,ze||(ze=Promise.resolve()),ze.then(()=>gn(t)&&n()),t},clearImmediate(n){gn(n)}},{setImmediate:So,clearImmediate:Ao}=Oo,le={setImmediate(...n){const{delegate:t}=le;return((null==t?void 0:t.setImmediate)||So)(...n)},clearImmediate(n){const{delegate:t}=le;return((null==t?void 0:t.clearImmediate)||Ao)(n)},delegate:void 0};new class Do extends mn.v{flush(t){this._active=!0,this._scheduled=void 0;const{actions:e}=this;let i,s=-1;t=t||e.shift();const r=e.length;do{if(i=t.execute(t.state,t.delay))break}while(++s<r&&(t=e.shift()));if(this._active=!1,i){for(;++s<r&&(t=e.shift());)t.unsubscribe();throw i}}}(class Mo extends pn.o{constructor(t,e){super(t,e),this.scheduler=t,this.work=e}requestAsyncId(t,e,i=0){return null!==i&&i>0?super.requestAsyncId(t,e,i):(t.actions.push(this),t._scheduled||(t._scheduled=le.setImmediate(t.flush.bind(t,void 0))))}recycleAsyncId(t,e,i=0){if(null!=i&&i>0||null==i&&this.delay>0)return super.recycleAsyncId(t,e,i);0===t.actions.length&&(le.clearImmediate(e),t._scheduled=void 0)}});var xo=h(4986),_n=h(4482),To=h(5963);function vn(n,t=xo.P){return function Fo(n){return(0,_n.e)((t,e)=>{let i=!1,s=null,r=null,a=!1;const l=()=>{if(null==r||r.unsubscribe(),r=null,i){i=!1;const d=s;s=null,e.next(d)}a&&e.complete()},c=()=>{r=null,a&&e.complete()};t.subscribe(new K.Q(e,d=>{i=!0,s=d,r||(0,$.Xf)(n(d)).subscribe(r=new K.Q(e,l,c))},()=>{a=!0,(!i||!r||r.closed)&&e.complete()}))})}(()=>(0,To.H)(n,t))}var yn=h(9300);const Vo=new o.OlP("cdk-dir-doc",{providedIn:"root",factory:function Ro(){return(0,o.f3M)(p.K0)}}),Po=/^(ar|ckb|dv|he|iw|fa|nqo|ps|sd|ug|ur|yi|.*[-_](Adlm|Arab|Hebr|Nkoo|Rohg|Thaa))(?!.*[-_](Latn|Cyrl)($|-|_))($|-|_)/i;let Lo=(()=>{class n{constructor(e){if(this.value="ltr",this.change=new o.vpe,e){const s=e.documentElement?e.documentElement.dir:null;this.value=function Io(n){const t=(null==n?void 0:n.toLowerCase())||"";return"auto"===t&&"undefined"!=typeof navigator&&(null==navigator?void 0:navigator.language)?Po.test(navigator.language)?"rtl":"ltr":"rtl"===t?"rtl":"ltr"}((e.body?e.body.dir:null)||s||"ltr")}}ngOnDestroy(){this.change.complete()}}return n.\u0275fac=function(e){return new(e||n)(o.LFG(Vo,8))},n.\u0275prov=o.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})(),Ze=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=o.oAB({type:n}),n.\u0275inj=o.cJS({}),n})(),Bo=(()=>{class n{constructor(e,i,s){this._ngZone=e,this._platform=i,this._scrolled=new b.x,this._globalSubscription=null,this._scrolledCount=0,this.scrollContainers=new Map,this._document=s}register(e){this.scrollContainers.has(e)||this.scrollContainers.set(e,e.elementScrolled().subscribe(()=>this._scrolled.next(e)))}deregister(e){const i=this.scrollContainers.get(e);i&&(i.unsubscribe(),this.scrollContainers.delete(e))}scrolled(e=20){return this._platform.isBrowser?new pe.y(i=>{this._globalSubscription||this._addGlobalListener();const s=e>0?this._scrolled.pipe(vn(e)).subscribe(i):this._scrolled.subscribe(i);return this._scrolledCount++,()=>{s.unsubscribe(),this._scrolledCount--,this._scrolledCount||this._removeGlobalListener()}}):(0,uo.of)()}ngOnDestroy(){this._removeGlobalListener(),this.scrollContainers.forEach((e,i)=>this.deregister(i)),this._scrolled.complete()}ancestorScrolled(e,i){const s=this.getAncestorScrollContainers(e);return this.scrolled(i).pipe((0,yn.h)(r=>!r||s.indexOf(r)>-1))}getAncestorScrollContainers(e){const i=[];return this.scrollContainers.forEach((s,r)=>{this._scrollableContainsElement(r,e)&&i.push(r)}),i}_getWindow(){return this._document.defaultView||window}_scrollableContainsElement(e,i){let s=function co(n){return n instanceof o.SBq?n.nativeElement:n}(i),r=e.getElementRef().nativeElement;do{if(s==r)return!0}while(s=s.parentElement);return!1}_addGlobalListener(){this._globalSubscription=this._ngZone.runOutsideAngular(()=>He(this._getWindow().document,"scroll").subscribe(()=>this._scrolled.next()))}_removeGlobalListener(){this._globalSubscription&&(this._globalSubscription.unsubscribe(),this._globalSubscription=null)}}return n.\u0275fac=function(e){return new(e||n)(o.LFG(o.R0b),o.LFG(S),o.LFG(p.K0,8))},n.\u0275prov=o.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})(),Cn=(()=>{class n{constructor(e,i,s){this._platform=e,this._change=new b.x,this._changeListener=r=>{this._change.next(r)},this._document=s,i.runOutsideAngular(()=>{if(e.isBrowser){const r=this._getWindow();r.addEventListener("resize",this._changeListener),r.addEventListener("orientationchange",this._changeListener)}this.change().subscribe(()=>this._viewportSize=null)})}ngOnDestroy(){if(this._platform.isBrowser){const e=this._getWindow();e.removeEventListener("resize",this._changeListener),e.removeEventListener("orientationchange",this._changeListener)}this._change.complete()}getViewportSize(){this._viewportSize||this._updateViewportSize();const e={width:this._viewportSize.width,height:this._viewportSize.height};return this._platform.isBrowser||(this._viewportSize=null),e}getViewportRect(){const e=this.getViewportScrollPosition(),{width:i,height:s}=this.getViewportSize();return{top:e.top,left:e.left,bottom:e.top+s,right:e.left+i,height:s,width:i}}getViewportScrollPosition(){if(!this._platform.isBrowser)return{top:0,left:0};const e=this._document,i=this._getWindow(),s=e.documentElement,r=s.getBoundingClientRect();return{top:-r.top||e.body.scrollTop||i.scrollY||s.scrollTop||0,left:-r.left||e.body.scrollLeft||i.scrollX||s.scrollLeft||0}}change(e=20){return e>0?this._change.pipe(vn(e)):this._change}_getWindow(){return this._document.defaultView||window}_updateViewportSize(){const e=this._getWindow();this._viewportSize=this._platform.isBrowser?{width:e.innerWidth,height:e.innerHeight}:{width:0,height:0}}}return n.\u0275fac=function(e){return new(e||n)(o.LFG(S),o.LFG(o.R0b),o.LFG(p.K0,8))},n.\u0275prov=o.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})(),bn=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=o.oAB({type:n}),n.\u0275inj=o.cJS({}),n})(),wn=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=o.oAB({type:n}),n.\u0275inj=o.cJS({imports:[[Ze,je,bn],Ze,bn]}),n})();class Ye{attach(t){return this._attachedHost=t,t.attach(this)}detach(){let t=this._attachedHost;null!=t&&(this._attachedHost=null,t.detach())}get isAttached(){return null!=this._attachedHost}setAttachedHost(t){this._attachedHost=t}}class En extends Ye{constructor(t,e,i,s){super(),this.component=t,this.viewContainerRef=e,this.injector=i,this.componentFactoryResolver=s}}class Go extends Ye{constructor(t,e,i){super(),this.templateRef=t,this.viewContainerRef=e,this.context=i}get origin(){return this.templateRef.elementRef}attach(t,e=this.context){return this.context=e,super.attach(t)}detach(){return this.context=void 0,super.detach()}}class Ho extends Ye{constructor(t){super(),this.element=t instanceof o.SBq?t.nativeElement:t}}class zo extends class Uo{constructor(){this._isDisposed=!1,this.attachDomPortal=null}hasAttached(){return!!this._attachedPortal}attach(t){return t instanceof En?(this._attachedPortal=t,this.attachComponentPortal(t)):t instanceof Go?(this._attachedPortal=t,this.attachTemplatePortal(t)):this.attachDomPortal&&t instanceof Ho?(this._attachedPortal=t,this.attachDomPortal(t)):void 0}detach(){this._attachedPortal&&(this._attachedPortal.setAttachedHost(null),this._attachedPortal=null),this._invokeDisposeFn()}dispose(){this.hasAttached()&&this.detach(),this._invokeDisposeFn(),this._isDisposed=!0}setDisposeFn(t){this._disposeFn=t}_invokeDisposeFn(){this._disposeFn&&(this._disposeFn(),this._disposeFn=null)}}{constructor(t,e,i,s,r){super(),this.outletElement=t,this._componentFactoryResolver=e,this._appRef=i,this._defaultInjector=s,this.attachDomPortal=a=>{const l=a.element,c=this._document.createComment("dom-portal");l.parentNode.insertBefore(c,l),this.outletElement.appendChild(l),this._attachedPortal=a,super.setDisposeFn(()=>{c.parentNode&&c.parentNode.replaceChild(l,c)})},this._document=r}attachComponentPortal(t){const i=(t.componentFactoryResolver||this._componentFactoryResolver).resolveComponentFactory(t.component);let s;return t.viewContainerRef?(s=t.viewContainerRef.createComponent(i,t.viewContainerRef.length,t.injector||t.viewContainerRef.injector),this.setDisposeFn(()=>s.destroy())):(s=i.create(t.injector||this._defaultInjector),this._appRef.attachView(s.hostView),this.setDisposeFn(()=>{this._appRef.detachView(s.hostView),s.destroy()})),this.outletElement.appendChild(this._getComponentRootNode(s)),this._attachedPortal=t,s}attachTemplatePortal(t){let e=t.viewContainerRef,i=e.createEmbeddedView(t.templateRef,t.context);return i.rootNodes.forEach(s=>this.outletElement.appendChild(s)),i.detectChanges(),this.setDisposeFn(()=>{let s=e.indexOf(i);-1!==s&&e.remove(s)}),this._attachedPortal=t,i}dispose(){super.dispose(),this.outletElement.remove()}_getComponentRootNode(t){return t.hostView.rootNodes[0]}}let We=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=o.oAB({type:n}),n.\u0275inj=o.cJS({}),n})();var Zo=h(6451),Yo=h(5698),Wo=h(5032);function M(n){return(0,_n.e)((t,e)=>{(0,$.Xf)(n).subscribe(new K.Q(e,()=>e.complete(),Wo.Z)),!e.closed&&t.subscribe(e)})}const On=no();class qo{constructor(t,e){this._viewportRuler=t,this._previousHTMLStyles={top:"",left:""},this._isEnabled=!1,this._document=e}attach(){}enable(){if(this._canBeEnabled()){const t=this._document.documentElement;this._previousScrollPosition=this._viewportRuler.getViewportScrollPosition(),this._previousHTMLStyles.left=t.style.left||"",this._previousHTMLStyles.top=t.style.top||"",t.style.left=m(-this._previousScrollPosition.left),t.style.top=m(-this._previousScrollPosition.top),t.classList.add("cdk-global-scrollblock"),this._isEnabled=!0}}disable(){if(this._isEnabled){const t=this._document.documentElement,i=t.style,s=this._document.body.style,r=i.scrollBehavior||"",a=s.scrollBehavior||"";this._isEnabled=!1,i.left=this._previousHTMLStyles.left,i.top=this._previousHTMLStyles.top,t.classList.remove("cdk-global-scrollblock"),On&&(i.scrollBehavior=s.scrollBehavior="auto"),window.scroll(this._previousScrollPosition.left,this._previousScrollPosition.top),On&&(i.scrollBehavior=r,s.scrollBehavior=a)}}_canBeEnabled(){if(this._document.documentElement.classList.contains("cdk-global-scrollblock")||this._isEnabled)return!1;const e=this._document.body,i=this._viewportRuler.getViewportSize();return e.scrollHeight>i.height||e.scrollWidth>i.width}}class $o{constructor(t,e,i,s){this._scrollDispatcher=t,this._ngZone=e,this._viewportRuler=i,this._config=s,this._scrollSubscription=null,this._detach=()=>{this.disable(),this._overlayRef.hasAttached()&&this._ngZone.run(()=>this._overlayRef.detach())}}attach(t){this._overlayRef=t}enable(){if(this._scrollSubscription)return;const t=this._scrollDispatcher.scrolled(0);this._config&&this._config.threshold&&this._config.threshold>1?(this._initialScrollPosition=this._viewportRuler.getViewportScrollPosition().top,this._scrollSubscription=t.subscribe(()=>{const e=this._viewportRuler.getViewportScrollPosition().top;Math.abs(e-this._initialScrollPosition)>this._config.threshold?this._detach():this._overlayRef.updatePosition()})):this._scrollSubscription=t.subscribe(this._detach)}disable(){this._scrollSubscription&&(this._scrollSubscription.unsubscribe(),this._scrollSubscription=null)}detach(){this.disable(),this._overlayRef=null}}class Sn{enable(){}disable(){}attach(){}}function qe(n,t){return t.some(e=>n.bottom<e.top||n.top>e.bottom||n.right<e.left||n.left>e.right)}function An(n,t){return t.some(e=>n.top<e.top||n.bottom>e.bottom||n.left<e.left||n.right>e.right)}class Ko{constructor(t,e,i,s){this._scrollDispatcher=t,this._viewportRuler=e,this._ngZone=i,this._config=s,this._scrollSubscription=null}attach(t){this._overlayRef=t}enable(){this._scrollSubscription||(this._scrollSubscription=this._scrollDispatcher.scrolled(this._config?this._config.scrollThrottle:0).subscribe(()=>{if(this._overlayRef.updatePosition(),this._config&&this._config.autoClose){const e=this._overlayRef.overlayElement.getBoundingClientRect(),{width:i,height:s}=this._viewportRuler.getViewportSize();qe(e,[{width:i,height:s,bottom:s,right:i,top:0,left:0}])&&(this.disable(),this._ngZone.run(()=>this._overlayRef.detach()))}}))}disable(){this._scrollSubscription&&(this._scrollSubscription.unsubscribe(),this._scrollSubscription=null)}detach(){this.disable(),this._overlayRef=null}}let Xo=(()=>{class n{constructor(e,i,s,r){this._scrollDispatcher=e,this._viewportRuler=i,this._ngZone=s,this.noop=()=>new Sn,this.close=a=>new $o(this._scrollDispatcher,this._ngZone,this._viewportRuler,a),this.block=()=>new qo(this._viewportRuler,this._document),this.reposition=a=>new Ko(this._scrollDispatcher,this._viewportRuler,this._ngZone,a),this._document=r}}return n.\u0275fac=function(e){return new(e||n)(o.LFG(Bo),o.LFG(Cn),o.LFG(o.R0b),o.LFG(p.K0))},n.\u0275prov=o.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();class Jo{constructor(t){if(this.scrollStrategy=new Sn,this.panelClass="",this.hasBackdrop=!1,this.backdropClass="cdk-overlay-dark-backdrop",this.disposeOnNavigation=!1,t){const e=Object.keys(t);for(const i of e)void 0!==t[i]&&(this[i]=t[i])}}}class Qo{constructor(t,e){this.connectionPair=t,this.scrollableViewProperties=e}}class es{constructor(t,e,i,s,r,a,l,c,d){this._portalOutlet=t,this._host=e,this._pane=i,this._config=s,this._ngZone=r,this._keyboardDispatcher=a,this._document=l,this._location=c,this._outsideClickDispatcher=d,this._backdropElement=null,this._backdropClick=new b.x,this._attachments=new b.x,this._detachments=new b.x,this._locationChanges=Ue.w0.EMPTY,this._backdropClickHandler=u=>this._backdropClick.next(u),this._keydownEvents=new b.x,this._outsidePointerEvents=new b.x,s.scrollStrategy&&(this._scrollStrategy=s.scrollStrategy,this._scrollStrategy.attach(this)),this._positionStrategy=s.positionStrategy}get overlayElement(){return this._pane}get backdropElement(){return this._backdropElement}get hostElement(){return this._host}attach(t){let e=this._portalOutlet.attach(t);return!this._host.parentElement&&this._previousHostParent&&this._previousHostParent.appendChild(this._host),this._positionStrategy&&this._positionStrategy.attach(this),this._updateStackingOrder(),this._updateElementSize(),this._updateElementDirection(),this._scrollStrategy&&this._scrollStrategy.enable(),this._ngZone.onStable.pipe((0,Yo.q)(1)).subscribe(()=>{this.hasAttached()&&this.updatePosition()}),this._togglePointerEvents(!0),this._config.hasBackdrop&&this._attachBackdrop(),this._config.panelClass&&this._toggleClasses(this._pane,this._config.panelClass,!0),this._attachments.next(),this._keyboardDispatcher.add(this),this._config.disposeOnNavigation&&(this._locationChanges=this._location.subscribe(()=>this.dispose())),this._outsideClickDispatcher.add(this),e}detach(){if(!this.hasAttached())return;this.detachBackdrop(),this._togglePointerEvents(!1),this._positionStrategy&&this._positionStrategy.detach&&this._positionStrategy.detach(),this._scrollStrategy&&this._scrollStrategy.disable();const t=this._portalOutlet.detach();return this._detachments.next(),this._keyboardDispatcher.remove(this),this._detachContentWhenStable(),this._locationChanges.unsubscribe(),this._outsideClickDispatcher.remove(this),t}dispose(){var t;const e=this.hasAttached();this._positionStrategy&&this._positionStrategy.dispose(),this._disposeScrollStrategy(),this._disposeBackdrop(this._backdropElement),this._locationChanges.unsubscribe(),this._keyboardDispatcher.remove(this),this._portalOutlet.dispose(),this._attachments.complete(),this._backdropClick.complete(),this._keydownEvents.complete(),this._outsidePointerEvents.complete(),this._outsideClickDispatcher.remove(this),null===(t=this._host)||void 0===t||t.remove(),this._previousHostParent=this._pane=this._host=null,e&&this._detachments.next(),this._detachments.complete()}hasAttached(){return this._portalOutlet.hasAttached()}backdropClick(){return this._backdropClick}attachments(){return this._attachments}detachments(){return this._detachments}keydownEvents(){return this._keydownEvents}outsidePointerEvents(){return this._outsidePointerEvents}getConfig(){return this._config}updatePosition(){this._positionStrategy&&this._positionStrategy.apply()}updatePositionStrategy(t){t!==this._positionStrategy&&(this._positionStrategy&&this._positionStrategy.dispose(),this._positionStrategy=t,this.hasAttached()&&(t.attach(this),this.updatePosition()))}updateSize(t){this._config=Object.assign(Object.assign({},this._config),t),this._updateElementSize()}setDirection(t){this._config=Object.assign(Object.assign({},this._config),{direction:t}),this._updateElementDirection()}addPanelClass(t){this._pane&&this._toggleClasses(this._pane,t,!0)}removePanelClass(t){this._pane&&this._toggleClasses(this._pane,t,!1)}getDirection(){const t=this._config.direction;return t?"string"==typeof t?t:t.value:"ltr"}updateScrollStrategy(t){t!==this._scrollStrategy&&(this._disposeScrollStrategy(),this._scrollStrategy=t,this.hasAttached()&&(t.attach(this),t.enable()))}_updateElementDirection(){this._host.setAttribute("dir",this.getDirection())}_updateElementSize(){if(!this._pane)return;const t=this._pane.style;t.width=m(this._config.width),t.height=m(this._config.height),t.minWidth=m(this._config.minWidth),t.minHeight=m(this._config.minHeight),t.maxWidth=m(this._config.maxWidth),t.maxHeight=m(this._config.maxHeight)}_togglePointerEvents(t){this._pane.style.pointerEvents=t?"":"none"}_attachBackdrop(){const t="cdk-overlay-backdrop-showing";this._backdropElement=this._document.createElement("div"),this._backdropElement.classList.add("cdk-overlay-backdrop"),this._config.backdropClass&&this._toggleClasses(this._backdropElement,this._config.backdropClass,!0),this._host.parentElement.insertBefore(this._backdropElement,this._host),this._backdropElement.addEventListener("click",this._backdropClickHandler),"undefined"!=typeof requestAnimationFrame?this._ngZone.runOutsideAngular(()=>{requestAnimationFrame(()=>{this._backdropElement&&this._backdropElement.classList.add(t)})}):this._backdropElement.classList.add(t)}_updateStackingOrder(){this._host.nextSibling&&this._host.parentNode.appendChild(this._host)}detachBackdrop(){const t=this._backdropElement;if(!t)return;let e;const i=()=>{t&&(t.removeEventListener("click",this._backdropClickHandler),t.removeEventListener("transitionend",i),this._disposeBackdrop(t)),this._config.backdropClass&&this._toggleClasses(t,this._config.backdropClass,!1),clearTimeout(e)};t.classList.remove("cdk-overlay-backdrop-showing"),this._ngZone.runOutsideAngular(()=>{t.addEventListener("transitionend",i)}),t.style.pointerEvents="none",e=this._ngZone.runOutsideAngular(()=>setTimeout(i,500))}_toggleClasses(t,e,i){const s=hn(e||[]).filter(r=>!!r);s.length&&(i?t.classList.add(...s):t.classList.remove(...s))}_detachContentWhenStable(){this._ngZone.runOutsideAngular(()=>{const t=this._ngZone.onStable.pipe(M((0,Zo.T)(this._attachments,this._detachments))).subscribe(()=>{(!this._pane||!this._host||0===this._pane.children.length)&&(this._pane&&this._config.panelClass&&this._toggleClasses(this._pane,this._config.panelClass,!1),this._host&&this._host.parentElement&&(this._previousHostParent=this._host.parentElement,this._host.remove()),t.unsubscribe())})})}_disposeScrollStrategy(){const t=this._scrollStrategy;t&&(t.disable(),t.detach&&t.detach())}_disposeBackdrop(t){t&&(t.remove(),this._backdropElement===t&&(this._backdropElement=null))}}let Mn=(()=>{class n{constructor(e,i){this._platform=i,this._document=e}ngOnDestroy(){var e;null===(e=this._containerElement)||void 0===e||e.remove()}getContainerElement(){return this._containerElement||this._createContainer(),this._containerElement}_createContainer(){const e="cdk-overlay-container";if(this._platform.isBrowser||dn()){const s=this._document.querySelectorAll(`.${e}[platform="server"], .${e}[platform="test"]`);for(let r=0;r<s.length;r++)s[r].remove()}const i=this._document.createElement("div");i.classList.add(e),dn()?i.setAttribute("platform","test"):this._platform.isBrowser||i.setAttribute("platform","server"),this._document.body.appendChild(i),this._containerElement=i}}return n.\u0275fac=function(e){return new(e||n)(o.LFG(p.K0),o.LFG(S))},n.\u0275prov=o.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();const Dn="cdk-overlay-connected-position-bounding-box",ts=/([A-Za-z%]+)$/;class ns{constructor(t,e,i,s,r){this._viewportRuler=e,this._document=i,this._platform=s,this._overlayContainer=r,this._lastBoundingBoxSize={width:0,height:0},this._isPushed=!1,this._canPush=!0,this._growAfterOpen=!1,this._hasFlexibleDimensions=!0,this._positionLocked=!1,this._viewportMargin=0,this._scrollables=[],this._preferredPositions=[],this._positionChanges=new b.x,this._resizeSubscription=Ue.w0.EMPTY,this._offsetX=0,this._offsetY=0,this._appliedPanelClasses=[],this.positionChanges=this._positionChanges,this.setOrigin(t)}get positions(){return this._preferredPositions}attach(t){this._validatePositions(),t.hostElement.classList.add(Dn),this._overlayRef=t,this._boundingBox=t.hostElement,this._pane=t.overlayElement,this._isDisposed=!1,this._isInitialRender=!0,this._lastPosition=null,this._resizeSubscription.unsubscribe(),this._resizeSubscription=this._viewportRuler.change().subscribe(()=>{this._isInitialRender=!0,this.apply()})}apply(){if(this._isDisposed||!this._platform.isBrowser)return;if(!this._isInitialRender&&this._positionLocked&&this._lastPosition)return void this.reapplyLastPosition();this._clearPanelClasses(),this._resetOverlayElementStyles(),this._resetBoundingBoxStyles(),this._viewportRect=this._getNarrowedViewportRect(),this._originRect=this._getOriginRect(),this._overlayRect=this._pane.getBoundingClientRect(),this._containerRect=this._overlayContainer.getContainerElement().getBoundingClientRect();const t=this._originRect,e=this._overlayRect,i=this._viewportRect,s=this._containerRect,r=[];let a;for(let l of this._preferredPositions){let c=this._getOriginPoint(t,s,l),d=this._getOverlayPoint(c,e,l),u=this._getOverlayFit(d,e,i,l);if(u.isCompletelyWithinViewport)return this._isPushed=!1,void this._applyPosition(l,c);this._canFitWithFlexibleDimensions(u,d,i)?r.push({position:l,origin:c,overlayRect:e,boundingBoxRect:this._calculateBoundingBoxRect(c,l)}):(!a||a.overlayFit.visibleArea<u.visibleArea)&&(a={overlayFit:u,overlayPoint:d,originPoint:c,position:l,overlayRect:e})}if(r.length){let l=null,c=-1;for(const d of r){const u=d.boundingBoxRect.width*d.boundingBoxRect.height*(d.position.weight||1);u>c&&(c=u,l=d)}return this._isPushed=!1,void this._applyPosition(l.position,l.origin)}if(this._canPush)return this._isPushed=!0,void this._applyPosition(a.position,a.originPoint);this._applyPosition(a.position,a.originPoint)}detach(){this._clearPanelClasses(),this._lastPosition=null,this._previousPushAmount=null,this._resizeSubscription.unsubscribe()}dispose(){this._isDisposed||(this._boundingBox&&R(this._boundingBox.style,{top:"",left:"",right:"",bottom:"",height:"",width:"",alignItems:"",justifyContent:""}),this._pane&&this._resetOverlayElementStyles(),this._overlayRef&&this._overlayRef.hostElement.classList.remove(Dn),this.detach(),this._positionChanges.complete(),this._overlayRef=this._boundingBox=null,this._isDisposed=!0)}reapplyLastPosition(){if(!this._isDisposed&&(!this._platform||this._platform.isBrowser)){this._originRect=this._getOriginRect(),this._overlayRect=this._pane.getBoundingClientRect(),this._viewportRect=this._getNarrowedViewportRect(),this._containerRect=this._overlayContainer.getContainerElement().getBoundingClientRect();const t=this._lastPosition||this._preferredPositions[0],e=this._getOriginPoint(this._originRect,this._containerRect,t);this._applyPosition(t,e)}}withScrollableContainers(t){return this._scrollables=t,this}withPositions(t){return this._preferredPositions=t,-1===t.indexOf(this._lastPosition)&&(this._lastPosition=null),this._validatePositions(),this}withViewportMargin(t){return this._viewportMargin=t,this}withFlexibleDimensions(t=!0){return this._hasFlexibleDimensions=t,this}withGrowAfterOpen(t=!0){return this._growAfterOpen=t,this}withPush(t=!0){return this._canPush=t,this}withLockedPosition(t=!0){return this._positionLocked=t,this}setOrigin(t){return this._origin=t,this}withDefaultOffsetX(t){return this._offsetX=t,this}withDefaultOffsetY(t){return this._offsetY=t,this}withTransformOriginOn(t){return this._transformOriginSelector=t,this}_getOriginPoint(t,e,i){let s,r;if("center"==i.originX)s=t.left+t.width/2;else{const a=this._isRtl()?t.right:t.left,l=this._isRtl()?t.left:t.right;s="start"==i.originX?a:l}return e.left<0&&(s-=e.left),r="center"==i.originY?t.top+t.height/2:"top"==i.originY?t.top:t.bottom,e.top<0&&(r-=e.top),{x:s,y:r}}_getOverlayPoint(t,e,i){let s,r;return s="center"==i.overlayX?-e.width/2:"start"===i.overlayX?this._isRtl()?-e.width:0:this._isRtl()?0:-e.width,r="center"==i.overlayY?-e.height/2:"top"==i.overlayY?0:-e.height,{x:t.x+s,y:t.y+r}}_getOverlayFit(t,e,i,s){const r=xn(e);let{x:a,y:l}=t,c=this._getOffset(s,"x"),d=this._getOffset(s,"y");c&&(a+=c),d&&(l+=d);let k=0-l,P=l+r.height-i.height,x=this._subtractOverflows(r.width,0-a,a+r.width-i.width),$n=this._subtractOverflows(r.height,k,P),Kn=x*$n;return{visibleArea:Kn,isCompletelyWithinViewport:r.width*r.height===Kn,fitsInViewportVertically:$n===r.height,fitsInViewportHorizontally:x==r.width}}_canFitWithFlexibleDimensions(t,e,i){if(this._hasFlexibleDimensions){const s=i.bottom-e.y,r=i.right-e.x,a=kn(this._overlayRef.getConfig().minHeight),l=kn(this._overlayRef.getConfig().minWidth),d=t.fitsInViewportHorizontally||null!=l&&l<=r;return(t.fitsInViewportVertically||null!=a&&a<=s)&&d}return!1}_pushOverlayOnScreen(t,e,i){if(this._previousPushAmount&&this._positionLocked)return{x:t.x+this._previousPushAmount.x,y:t.y+this._previousPushAmount.y};const s=xn(e),r=this._viewportRect,a=Math.max(t.x+s.width-r.width,0),l=Math.max(t.y+s.height-r.height,0),c=Math.max(r.top-i.top-t.y,0),d=Math.max(r.left-i.left-t.x,0);let u=0,f=0;return u=s.width<=r.width?d||-a:t.x<this._viewportMargin?r.left-i.left-t.x:0,f=s.height<=r.height?c||-l:t.y<this._viewportMargin?r.top-i.top-t.y:0,this._previousPushAmount={x:u,y:f},{x:t.x+u,y:t.y+f}}_applyPosition(t,e){if(this._setTransformOrigin(t),this._setOverlayElementStyles(e,t),this._setBoundingBoxStyles(e,t),t.panelClass&&this._addPanelClasses(t.panelClass),this._lastPosition=t,this._positionChanges.observers.length){const i=this._getScrollVisibility(),s=new Qo(t,i);this._positionChanges.next(s)}this._isInitialRender=!1}_setTransformOrigin(t){if(!this._transformOriginSelector)return;const e=this._boundingBox.querySelectorAll(this._transformOriginSelector);let i,s=t.overlayY;i="center"===t.overlayX?"center":this._isRtl()?"start"===t.overlayX?"right":"left":"start"===t.overlayX?"left":"right";for(let r=0;r<e.length;r++)e[r].style.transformOrigin=`${i} ${s}`}_calculateBoundingBoxRect(t,e){const i=this._viewportRect,s=this._isRtl();let r,a,l,u,f,k;if("top"===e.overlayY)a=t.y,r=i.height-a+this._viewportMargin;else if("bottom"===e.overlayY)l=i.height-t.y+2*this._viewportMargin,r=i.height-l+this._viewportMargin;else{const P=Math.min(i.bottom-t.y+i.top,t.y),x=this._lastBoundingBoxSize.height;r=2*P,a=t.y-P,r>x&&!this._isInitialRender&&!this._growAfterOpen&&(a=t.y-x/2)}if("end"===e.overlayX&&!s||"start"===e.overlayX&&s)k=i.width-t.x+this._viewportMargin,u=t.x-this._viewportMargin;else if("start"===e.overlayX&&!s||"end"===e.overlayX&&s)f=t.x,u=i.right-t.x;else{const P=Math.min(i.right-t.x+i.left,t.x),x=this._lastBoundingBoxSize.width;u=2*P,f=t.x-P,u>x&&!this._isInitialRender&&!this._growAfterOpen&&(f=t.x-x/2)}return{top:a,left:f,bottom:l,right:k,width:u,height:r}}_setBoundingBoxStyles(t,e){const i=this._calculateBoundingBoxRect(t,e);!this._isInitialRender&&!this._growAfterOpen&&(i.height=Math.min(i.height,this._lastBoundingBoxSize.height),i.width=Math.min(i.width,this._lastBoundingBoxSize.width));const s={};if(this._hasExactPosition())s.top=s.left="0",s.bottom=s.right=s.maxHeight=s.maxWidth="",s.width=s.height="100%";else{const r=this._overlayRef.getConfig().maxHeight,a=this._overlayRef.getConfig().maxWidth;s.height=m(i.height),s.top=m(i.top),s.bottom=m(i.bottom),s.width=m(i.width),s.left=m(i.left),s.right=m(i.right),s.alignItems="center"===e.overlayX?"center":"end"===e.overlayX?"flex-end":"flex-start",s.justifyContent="center"===e.overlayY?"center":"bottom"===e.overlayY?"flex-end":"flex-start",r&&(s.maxHeight=m(r)),a&&(s.maxWidth=m(a))}this._lastBoundingBoxSize=i,R(this._boundingBox.style,s)}_resetBoundingBoxStyles(){R(this._boundingBox.style,{top:"0",left:"0",right:"0",bottom:"0",height:"",width:"",alignItems:"",justifyContent:""})}_resetOverlayElementStyles(){R(this._pane.style,{top:"",left:"",bottom:"",right:"",position:"",transform:""})}_setOverlayElementStyles(t,e){const i={},s=this._hasExactPosition(),r=this._hasFlexibleDimensions,a=this._overlayRef.getConfig();if(s){const u=this._viewportRuler.getViewportScrollPosition();R(i,this._getExactOverlayY(e,t,u)),R(i,this._getExactOverlayX(e,t,u))}else i.position="static";let l="",c=this._getOffset(e,"x"),d=this._getOffset(e,"y");c&&(l+=`translateX(${c}px) `),d&&(l+=`translateY(${d}px)`),i.transform=l.trim(),a.maxHeight&&(s?i.maxHeight=m(a.maxHeight):r&&(i.maxHeight="")),a.maxWidth&&(s?i.maxWidth=m(a.maxWidth):r&&(i.maxWidth="")),R(this._pane.style,i)}_getExactOverlayY(t,e,i){let s={top:"",bottom:""},r=this._getOverlayPoint(e,this._overlayRect,t);return this._isPushed&&(r=this._pushOverlayOnScreen(r,this._overlayRect,i)),"bottom"===t.overlayY?s.bottom=this._document.documentElement.clientHeight-(r.y+this._overlayRect.height)+"px":s.top=m(r.y),s}_getExactOverlayX(t,e,i){let a,s={left:"",right:""},r=this._getOverlayPoint(e,this._overlayRect,t);return this._isPushed&&(r=this._pushOverlayOnScreen(r,this._overlayRect,i)),a=this._isRtl()?"end"===t.overlayX?"left":"right":"end"===t.overlayX?"right":"left","right"===a?s.right=this._document.documentElement.clientWidth-(r.x+this._overlayRect.width)+"px":s.left=m(r.x),s}_getScrollVisibility(){const t=this._getOriginRect(),e=this._pane.getBoundingClientRect(),i=this._scrollables.map(s=>s.getElementRef().nativeElement.getBoundingClientRect());return{isOriginClipped:An(t,i),isOriginOutsideView:qe(t,i),isOverlayClipped:An(e,i),isOverlayOutsideView:qe(e,i)}}_subtractOverflows(t,...e){return e.reduce((i,s)=>i-Math.max(s,0),t)}_getNarrowedViewportRect(){const t=this._document.documentElement.clientWidth,e=this._document.documentElement.clientHeight,i=this._viewportRuler.getViewportScrollPosition();return{top:i.top+this._viewportMargin,left:i.left+this._viewportMargin,right:i.left+t-this._viewportMargin,bottom:i.top+e-this._viewportMargin,width:t-2*this._viewportMargin,height:e-2*this._viewportMargin}}_isRtl(){return"rtl"===this._overlayRef.getDirection()}_hasExactPosition(){return!this._hasFlexibleDimensions||this._isPushed}_getOffset(t,e){return"x"===e?null==t.offsetX?this._offsetX:t.offsetX:null==t.offsetY?this._offsetY:t.offsetY}_validatePositions(){}_addPanelClasses(t){this._pane&&hn(t).forEach(e=>{""!==e&&-1===this._appliedPanelClasses.indexOf(e)&&(this._appliedPanelClasses.push(e),this._pane.classList.add(e))})}_clearPanelClasses(){this._pane&&(this._appliedPanelClasses.forEach(t=>{this._pane.classList.remove(t)}),this._appliedPanelClasses=[])}_getOriginRect(){const t=this._origin;if(t instanceof o.SBq)return t.nativeElement.getBoundingClientRect();if(t instanceof Element)return t.getBoundingClientRect();const e=t.width||0,i=t.height||0;return{top:t.y,bottom:t.y+i,left:t.x,right:t.x+e,height:i,width:e}}}function R(n,t){for(let e in t)t.hasOwnProperty(e)&&(n[e]=t[e]);return n}function kn(n){if("number"!=typeof n&&null!=n){const[t,e]=n.split(ts);return e&&"px"!==e?null:parseFloat(t)}return n||null}function xn(n){return{top:Math.floor(n.top),right:Math.floor(n.right),bottom:Math.floor(n.bottom),left:Math.floor(n.left),width:Math.floor(n.width),height:Math.floor(n.height)}}const Fn="cdk-global-overlay-wrapper";class is{constructor(){this._cssPosition="static",this._topOffset="",this._bottomOffset="",this._leftOffset="",this._rightOffset="",this._alignItems="",this._justifyContent="",this._width="",this._height=""}attach(t){const e=t.getConfig();this._overlayRef=t,this._width&&!e.width&&t.updateSize({width:this._width}),this._height&&!e.height&&t.updateSize({height:this._height}),t.hostElement.classList.add(Fn),this._isDisposed=!1}top(t=""){return this._bottomOffset="",this._topOffset=t,this._alignItems="flex-start",this}left(t=""){return this._rightOffset="",this._leftOffset=t,this._justifyContent="flex-start",this}bottom(t=""){return this._topOffset="",this._bottomOffset=t,this._alignItems="flex-end",this}right(t=""){return this._leftOffset="",this._rightOffset=t,this._justifyContent="flex-end",this}width(t=""){return this._overlayRef?this._overlayRef.updateSize({width:t}):this._width=t,this}height(t=""){return this._overlayRef?this._overlayRef.updateSize({height:t}):this._height=t,this}centerHorizontally(t=""){return this.left(t),this._justifyContent="center",this}centerVertically(t=""){return this.top(t),this._alignItems="center",this}apply(){if(!this._overlayRef||!this._overlayRef.hasAttached())return;const t=this._overlayRef.overlayElement.style,e=this._overlayRef.hostElement.style,i=this._overlayRef.getConfig(),{width:s,height:r,maxWidth:a,maxHeight:l}=i,c=!("100%"!==s&&"100vw"!==s||a&&"100%"!==a&&"100vw"!==a),d=!("100%"!==r&&"100vh"!==r||l&&"100%"!==l&&"100vh"!==l);t.position=this._cssPosition,t.marginLeft=c?"0":this._leftOffset,t.marginTop=d?"0":this._topOffset,t.marginBottom=this._bottomOffset,t.marginRight=this._rightOffset,c?e.justifyContent="flex-start":"center"===this._justifyContent?e.justifyContent="center":"rtl"===this._overlayRef.getConfig().direction?"flex-start"===this._justifyContent?e.justifyContent="flex-end":"flex-end"===this._justifyContent&&(e.justifyContent="flex-start"):e.justifyContent=this._justifyContent,e.alignItems=d?"flex-start":this._alignItems}dispose(){if(this._isDisposed||!this._overlayRef)return;const t=this._overlayRef.overlayElement.style,e=this._overlayRef.hostElement,i=e.style;e.classList.remove(Fn),i.justifyContent=i.alignItems=t.marginTop=t.marginBottom=t.marginLeft=t.marginRight=t.position="",this._overlayRef=null,this._isDisposed=!0}}let os=(()=>{class n{constructor(e,i,s,r){this._viewportRuler=e,this._document=i,this._platform=s,this._overlayContainer=r}global(){return new is}flexibleConnectedTo(e){return new ns(e,this._viewportRuler,this._document,this._platform,this._overlayContainer)}}return n.\u0275fac=function(e){return new(e||n)(o.LFG(Cn),o.LFG(p.K0),o.LFG(S),o.LFG(Mn))},n.\u0275prov=o.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})(),Tn=(()=>{class n{constructor(e){this._attachedOverlays=[],this._document=e}ngOnDestroy(){this.detach()}add(e){this.remove(e),this._attachedOverlays.push(e)}remove(e){const i=this._attachedOverlays.indexOf(e);i>-1&&this._attachedOverlays.splice(i,1),0===this._attachedOverlays.length&&this.detach()}}return n.\u0275fac=function(e){return new(e||n)(o.LFG(p.K0))},n.\u0275prov=o.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})(),ss=(()=>{class n extends Tn{constructor(e){super(e),this._keydownListener=i=>{const s=this._attachedOverlays;for(let r=s.length-1;r>-1;r--)if(s[r]._keydownEvents.observers.length>0){s[r]._keydownEvents.next(i);break}}}add(e){super.add(e),this._isAttached||(this._document.body.addEventListener("keydown",this._keydownListener),this._isAttached=!0)}detach(){this._isAttached&&(this._document.body.removeEventListener("keydown",this._keydownListener),this._isAttached=!1)}}return n.\u0275fac=function(e){return new(e||n)(o.LFG(p.K0))},n.\u0275prov=o.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})(),rs=(()=>{class n extends Tn{constructor(e,i){super(e),this._platform=i,this._cursorStyleIsSet=!1,this._pointerDownListener=s=>{this._pointerDownEventTarget=cn(s)},this._clickListener=s=>{const r=cn(s),a="click"===s.type&&this._pointerDownEventTarget?this._pointerDownEventTarget:r;this._pointerDownEventTarget=null;const l=this._attachedOverlays.slice();for(let c=l.length-1;c>-1;c--){const d=l[c];if(!(d._outsidePointerEvents.observers.length<1)&&d.hasAttached()){if(d.overlayElement.contains(r)||d.overlayElement.contains(a))break;d._outsidePointerEvents.next(s)}}}}add(e){if(super.add(e),!this._isAttached){const i=this._document.body;i.addEventListener("pointerdown",this._pointerDownListener,!0),i.addEventListener("click",this._clickListener,!0),i.addEventListener("auxclick",this._clickListener,!0),i.addEventListener("contextmenu",this._clickListener,!0),this._platform.IOS&&!this._cursorStyleIsSet&&(this._cursorOriginalValue=i.style.cursor,i.style.cursor="pointer",this._cursorStyleIsSet=!0),this._isAttached=!0}}detach(){if(this._isAttached){const e=this._document.body;e.removeEventListener("pointerdown",this._pointerDownListener,!0),e.removeEventListener("click",this._clickListener,!0),e.removeEventListener("auxclick",this._clickListener,!0),e.removeEventListener("contextmenu",this._clickListener,!0),this._platform.IOS&&this._cursorStyleIsSet&&(e.style.cursor=this._cursorOriginalValue,this._cursorStyleIsSet=!1),this._isAttached=!1}}}return n.\u0275fac=function(e){return new(e||n)(o.LFG(p.K0),o.LFG(S))},n.\u0275prov=o.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})(),as=0,$e=(()=>{class n{constructor(e,i,s,r,a,l,c,d,u,f,k){this.scrollStrategies=e,this._overlayContainer=i,this._componentFactoryResolver=s,this._positionBuilder=r,this._keyboardDispatcher=a,this._injector=l,this._ngZone=c,this._document=d,this._directionality=u,this._location=f,this._outsideClickDispatcher=k}create(e){const i=this._createHostElement(),s=this._createPaneElement(i),r=this._createPortalOutlet(s),a=new Jo(e);return a.direction=a.direction||this._directionality.value,new es(r,i,s,a,this._ngZone,this._keyboardDispatcher,this._document,this._location,this._outsideClickDispatcher)}position(){return this._positionBuilder}_createPaneElement(e){const i=this._document.createElement("div");return i.id="cdk-overlay-"+as++,i.classList.add("cdk-overlay-pane"),e.appendChild(i),i}_createHostElement(){const e=this._document.createElement("div");return this._overlayContainer.getContainerElement().appendChild(e),e}_createPortalOutlet(e){return this._appRef||(this._appRef=this._injector.get(o.z2F)),new zo(e,this._componentFactoryResolver,this._appRef,this._injector,this._document)}}return n.\u0275fac=function(e){return new(e||n)(o.LFG(Xo),o.LFG(Mn),o.LFG(o._Vd),o.LFG(os),o.LFG(ss),o.LFG(o.zs3),o.LFG(o.R0b),o.LFG(p.K0),o.LFG(Lo),o.LFG(p.Ye),o.LFG(rs))},n.\u0275prov=o.Yz7({token:n,factory:n.\u0275fac}),n})();const ds={provide:new o.OlP("cdk-connected-overlay-scroll-strategy"),deps:[$e],useFactory:function cs(n){return()=>n.scrollStrategies.reposition()}};let Vn=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=o.oAB({type:n}),n.\u0275inj=o.cJS({providers:[$e,ds],imports:[[Ze,We,wn],wn]}),n})(),gs=(()=>{class n{create(e){return"undefined"==typeof MutationObserver?null:new MutationObserver(e)}}return n.\u0275fac=function(e){return new(e||n)},n.\u0275prov=o.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})(),_s=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=o.oAB({type:n}),n.\u0275inj=o.cJS({providers:[gs]}),n})();const Ln="cdk-high-contrast-black-on-white",Nn="cdk-high-contrast-white-on-black",Ke="cdk-high-contrast-active";let As=(()=>{class n{constructor(e,i){this._platform=e,this._document=i}getHighContrastMode(){if(!this._platform.isBrowser)return 0;const e=this._document.createElement("div");e.style.backgroundColor="rgb(1,2,3)",e.style.position="absolute",this._document.body.appendChild(e);const i=this._document.defaultView||window,s=i&&i.getComputedStyle?i.getComputedStyle(e):null,r=(s&&s.backgroundColor||"").replace(/ /g,"");switch(e.remove(),r){case"rgb(0,0,0)":return 2;case"rgb(255,255,255)":return 1}return 0}_applyBodyHighContrastModeCssClasses(){if(!this._hasCheckedHighContrastMode&&this._platform.isBrowser&&this._document.body){const e=this._document.body.classList;e.remove(Ke),e.remove(Ln),e.remove(Nn),this._hasCheckedHighContrastMode=!0;const i=this.getHighContrastMode();1===i?(e.add(Ke),e.add(Ln)):2===i&&(e.add(Ke),e.add(Nn))}}}return n.\u0275fac=function(e){return new(e||n)(o.LFG(S),o.LFG(p.K0))},n.\u0275prov=o.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})(),Ms=(()=>{class n{constructor(e){e._applyBodyHighContrastModeCssClasses()}}return n.\u0275fac=function(e){return new(e||n)(o.LFG(As))},n.\u0275mod=o.oAB({type:n}),n.\u0275inj=o.cJS({imports:[[je,_s]]}),n})();class Bn{constructor(){this.height="400px",this.width="400px",this.hasBackdrop=!0,this.disposeOnNavigation=!0}}let ce=(()=>{class n{constructor(e){this.overlay=e,this._config=new Bn}openDialog(e,i=new Bn){return this._config.positionStrategy=this.overlay.position().global().centerHorizontally().centerVertically(),this._overlayRef=this.overlay.create(null!=i?i:this._config),this._overlayRef.attach(new En(e)),this._overlayRef}close(){console.log(this._overlayRef),this._overlayRef&&this._overlayRef.dispose()}}return n.\u0275fac=function(e){return new(e||n)(o.LFG($e))},n.\u0275prov=o.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})(),Ds=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=o.oAB({type:n}),n.\u0275inj=o.cJS({providers:[ce],imports:[[Vn,We,Ms],We]}),n})();var C=h(7871);let ks=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=o.oAB({type:n}),n.\u0275inj=o.cJS({imports:[[p.ez,C.Bz,rn]]}),n})(),xs=(()=>{class n{constructor(e){this.dialog=e}close(){this.dialog.close()}}return n.\u0275fac=function(e){return new(e||n)(o.Y36(ce))},n.\u0275cmp=o.Xpm({type:n,selectors:[["dt-nav-level"]],decls:13,vars:0,consts:[["type","button",3,"click"],["xmlns","http://www.w3.org/2000/svg","viewBox","0 0 24 24","height","24px","width","24px"],["d","M0 0h24v24H0V0z","fill","none"],["d","M19 6.41L17.59 5 12 10.59 6.41 5 5 6.41 10.59 12 5 17.59 6.41 19 12 13.41 17.59 19 19 17.59 13.41 12 19 6.41z"],["routerLink","/training","routerLinkActive","active"],["routerLink","/easy","routerLinkActive","active"],["routerLink","/medium","routerLinkActive","active"],["routerLink","/hard","routerLinkActive","active"]],template:function(e,i){1&e&&(o.TgZ(0,"button",0),o.NdJ("click",function(){return i.close()}),o.O4$(),o.TgZ(1,"svg",1),o._UZ(2,"path",2),o._UZ(3,"path",3),o.qZA(),o.qZA(),o.kcU(),o.TgZ(4,"nav"),o.TgZ(5,"a",4),o._uU(6," Treino "),o.qZA(),o.TgZ(7,"a",5),o._uU(8," F\xe1cil "),o.qZA(),o.TgZ(9,"a",6),o._uU(10," M\xe9dio "),o.qZA(),o.TgZ(11,"a",7),o._uU(12," Dif\xedcil "),o.qZA(),o.qZA())},directives:[C.yS,C.Od],styles:["[_nghost-%COMP%]{width:100%;height:100%;padding:24px;display:flex;position:relative;flex-direction:column;justify-content:center;align-items:center;font-family:var(--font-heading);background-color:rgba(var(--color-bg),.8);border-radius:8px}[_nghost-%COMP%]   button[_ngcontent-%COMP%]{background-color:transparent;position:absolute;cursor:pointer;z-index:100;border:none;right:10px;top:10px}[_nghost-%COMP%]   svg[_ngcontent-%COMP%]{color:#fff;fill:#fff}nav[_ngcontent-%COMP%]{grid-gap:16px;gap:16px;display:flex;flex-direction:column;justify-content:center}a[_ngcontent-%COMP%]:link{display:block;font-size:200%;font-family:var(--font-heading)}"],changeDetection:0}),n})();var B=h(3422);class D{constructor(t,e){this.width=t,this.height=e;const i=document.createElement("canvas");i.width=t,i.height=e,this.ctx=i.getContext("2d"),this.canvas=i}}function jn(n,t,e,i,s,r){return r&&(n.ctx.fillStyle=r,n.ctx.fillRect(0,0,n.canvas.width,n.canvas.height)),n.ctx.fillStyle=t,n.ctx.beginPath(),n.ctx.moveTo(e,90),n.ctx.lineTo(e,90+s),n.ctx.lineTo(e+i,90+s),n.ctx.lineTo(e+i,90),n.ctx.ellipse(e+i/2,90,i/2,90,0,0,Math.PI,!0),n.ctx.fill(),n.canvas}class de{constructor(t=1600,e=350){this.x=t,this.y=e}draw(t){const e=this.x-t.state.pos.x,i=(0,B.A)(600,800,e-t.platform.width/2),s=(0,B.A)(600,800,e+t.platform.width/2);if(i>s){const r=(0,B.A)(560,800,e-t.platform.width/2),a=(0,B.A)(560,800,e+t.platform.width/2),l=new D(1600,250),d=jn(new D(1600,250),"#2A3849",a,r-a,250,"#262525");if(t.ctx){const f=jn(l,t.ctx.createPattern(d,"no-repeat"),s,i-s,250);t.ctx.drawImage(f,0,this.y+t.state.pos.y)}}}}const Fs={brick:{shine:"",shade:"rgba(200, 200, 200, 0.8)",color:"#64696C",width:16,height:48,padding:4},platform:{height:22,width:13,color:"#5A4142"},tower:{width:1200,shadowWidth:100,skyWidth:200},sky:{bg:"rgb(10, 21, 32)",starSizes:[3,1,2,2],starColors:["#f1f1f1","#FFDCD4","#7AEFFF","#FFF385"]},colors:{bg:"#6A503E",wood1:"#6A503E",wood2:"#80604A",wood3:"#4B3937",wood4:"#6A503E",wood5:"#B46736"},settings:{maxSpeed:.09,minSpeed:.01,friction:.7,acceleration:.02,jump:{gravity:{boost:.0014,normal:.003,down:.004},maxSpeed:.6,fallStartSpeed:.07,friction:.98}},storage:{bricks:null,sky:null,shadows:null},input:{left:!1,right:!1,jump:!1,fullscreen:!1}},Ts={platforms:[],doors:[new de(1600,350),new de(1205,-1160)],savedState:null,state:{paused:!1,touched:!1,finished:!1,score:0,lastPlatform:null,platformReached:null,titles:{opacity:0,ready:!1,text:"N\xe3o foi desta vez"},winner:{opacity:0,ready:!1,text:"Voc\xea conseguiu!!!"},climbstarted:!1,time:null,dt:null,climbspeed:{normal:.05,fast:.12},pos:{x:1510,y:0},lastPos:{x:1510,y:0},activePlatforms:[],jump:{isGrounded:!0,isJumping:!1,isBoosting:!1,speed:0,nextY:0},player:{dir:1,x:725,y:350,prevY:350,speed:0,animationFrame:0,animationFrameCount:0}}};function v(n,t,e,i,s){const r=new D(317,300),a=new Image;return a.onload=function(){s&&(r.ctx.save(),r.ctx.scale(-1,1)),r.ctx.drawImage(a,0,0,317*(s?-1:1),300),s&&r.ctx.restore(),n.animationFrames[e][i]=r.canvas},a.src=t,r.canvas}function Gn(n,t){t&&(n.state.activePlatforms=[]),n.platforms.forEach(e=>{e.x<n.state.pos.x-40||e.x>n.state.pos.x+220||(t?e.isInFront(n)&&(e.draw(n),n.state.activePlatforms.push(e)):e.isInFront(n)||e.draw(n))});for(let e=0;e<n.state.activePlatforms.length;e++)n.state.activePlatforms[e].drawFront(n)}function Gs(n,t,e){const i=new D(n.tower.width,t);let s=n.brick.padding,r={x:0,y:0},a=n.brick.width;const l=n.brick.width;let c=!0;const d=i.ctx.createLinearGradient(0,0,i.canvas.width,t);d.addColorStop(0,"black"),d.addColorStop(.35,"#353637"),d.addColorStop(.65,"#353637"),d.addColorStop(1,"black"),i.ctx.fillStyle=d,i.ctx.fillRect(0,0,i.canvas.width,i.canvas.height);for(let u=0;u<2;u++){for(let f=180+e;f<=360;f+=l)r=(0,B.A)(600,600,f),c&&(f+=l/2,c=!1),a=(0,B.A)(600,600,f+l),i.ctx.fillStyle=n.brick.color,i.ctx.fillRect(r,s,a-r-n.brick.padding,n.brick.height),i.ctx.fillStyle=n.brick.shade,i.ctx.fillRect(r,s,a-r-n.brick.padding,3);s+=n.brick.padding,s+=n.brick.height}return i.canvas}function ue(n,t,e,i,s,r){const a=n.createLinearGradient(t,0,t+e,0);a.addColorStop(0,s),a.addColorStop(1,r),n.fillStyle=a,n.fillRect(t,0,e,i)}function Xe(n){const t=1.70158;return--n*n*((t+1)*n+t)+1}const Hn="../assets/player/burn/state=standing.png",Un="../assets/player/burn/state=jumping-up.png",zn="../assets/player/burn/state=jumping-down.png",he="../assets/player/burn/state=running.png",fe="../assets/player/burn/state=walking.png";var Zn=h(7460);const $s=[[["button"]],[["","dt-menu-item",""]]],Ks=["button","[dt-menu-item]"];let Xs=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275cmp=o.Xpm({type:n,selectors:[["dt-menu"]],ngContentSelectors:Ks,decls:4,vars:0,consts:[[1,"dropbtn"],[1,"dropdown-content"]],template:function(e,i){1&e&&(o.F$t($s),o.TgZ(0,"div",0),o.Hsn(1),o.qZA(),o.TgZ(2,"div",1),o.Hsn(3,1),o.qZA())},styles:['@charset "UTF-8";dt-menu{position:relative;display:inline-block}dt-menu .dropbtn button{background-color:transparent;padding:16px;font-size:24px;border:none;cursor:pointer}dt-menu .dropdown-content{display:none;position:absolute;min-width:160px;box-shadow:0 8px 16px #e6e6e633;z-index:1}dt-menu[right] .dropdown-content{right:0}dt-menu .dropdown-content a[dt-menu-item]{color:var(--color-text);padding:12px 16px;text-decoration:none;display:block}dt-menu .dropdown-content a[dt-menu-item]{text-decoration:none;background-color:rgba(var(--color-bg),.9)}dt-menu .dropdown-content a[dt-menu-item].active,dt-menu .dropdown-content a[dt-menu-item]:hover{background-color:rgba(var(--color-bg),1)}dt-menu:hover .dropdown-content{display:block}dt-menu:hover .dropbtn{background-color:transparent}\n'],encapsulation:2,changeDetection:0}),n})();const Js=["dt-menu-item",""],Qs=["*"];let er=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275cmp=o.Xpm({type:n,selectors:[["a","dt-menu-item",""],["dt-menu-item"]],attrs:Js,ngContentSelectors:Qs,decls:1,vars:0,template:function(e,i){1&e&&(o.F$t(),o.Hsn(0))},encapsulation:2,changeDetection:0}),n})(),tr=(()=>{class n{constructor(){this.value=0}}return n.\u0275fac=function(e){return new(e||n)},n.\u0275cmp=o.Xpm({type:n,selectors:[["dt-timer"]],inputs:{value:"value"},decls:4,vars:1,template:function(e,i){1&e&&(o.TgZ(0,"h3"),o._uU(1),o.qZA(),o.TgZ(2,"span"),o._uU(3,"segundos"),o.qZA()),2&e&&(o.xp6(1),o.Oqu(i.value))},styles:["[_nghost-%COMP%]{display:flex;grid-gap:10px;gap:10px;min-width:20px;max-width:200px;font-size:var(--font-size);-webkit-user-select:none;user-select:none}[_nghost-%COMP%]   h3[_ngcontent-%COMP%]{margin:0;color:#fff}[_nghost-%COMP%]   span[_ngcontent-%COMP%]{color:rgba(var(--color-text),.6)}"]}),n})(),nr=(()=>{class n{constructor(){this.value=0}}return n.\u0275fac=function(e){return new(e||n)},n.\u0275cmp=o.Xpm({type:n,selectors:[["dt-score"]],inputs:{value:"value"},decls:4,vars:1,template:function(e,i){1&e&&(o.TgZ(0,"h3"),o._uU(1),o.qZA(),o.TgZ(2,"span"),o._uU(3,"pontos"),o.qZA()),2&e&&(o.xp6(1),o.Oqu(i.value))},styles:["[_nghost-%COMP%]{display:flex;grid-gap:10px;gap:10px;min-width:20px;max-width:160px;font-size:var(--font-size);-webkit-user-select:none;user-select:none}[_nghost-%COMP%]   h3[_ngcontent-%COMP%]{margin:0;color:#fff}[_nghost-%COMP%]   span[_ngcontent-%COMP%]{color:rgba(var(--color-text),.6)}"]}),n})();const ir=["dt-control",""],or=["*"];let sr=(()=>{class n{constructor(){this.touch=new o.vpe,this.touchStart=new o.vpe,this.touchEnd=new o.vpe,this.action="jump"}onTouchStart(e){this.touchStart.emit({event:e,action:this.action,time:"press"})}onClick(e){this.touch.emit({event:e,action:this.action,time:"press"})}onTouchEnd(e){this.touchEnd.emit({event:e,action:this.action,time:"hold"})}}return n.\u0275fac=function(e){return new(e||n)},n.\u0275cmp=o.Xpm({type:n,selectors:[["button","dt-control",""],["dt-control"]],hostBindings:function(e,i){1&e&&o.NdJ("touchstart",function(r){return i.onTouchStart(r)})("click",function(r){return i.onClick(r)})("touchend",function(r){return i.onTouchEnd(r)})},inputs:{action:"action"},outputs:{touch:"touch",touchStart:"touchStart",touchEnd:"touchEnd"},attrs:ir,ngContentSelectors:or,decls:1,vars:0,template:function(e,i){1&e&&(o.F$t(),o.Hsn(0))},styles:["[_nghost-%COMP%]{width:64px;height:64px;padding:16px;border-radius:50%;cursor:pointer;display:flex;align-items:center;justify-content:center;background-color:#000;border:2px solid #f1f1f1}"],changeDetection:0}),n})();const rr=["container"],ar=["canvas"],Yn=function(n){return{hidden:n}},q="/assets/sounds",Wn=new Audio(`${q}/jump-spring-down.mp3`),qn=new Audio(`${q}/jump-spring-up.mp3`),lr=new Audio(`${q}/thunder-rumble.mp3`),cr=new Audio(`${q}/zumbi/yeaah.mp3`),dr=new Audio(`${q}/scream.mp3`);function Je(n){return JSON.parse(JSON.stringify(n))}const ur=[{path:"",component:(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275cmp=o.Xpm({type:n,selectors:[["dt-home"]],decls:10,vars:0,consts:[["routerLink","/training"],["routerLink","/easy"],["routerLink","/medium"],["routerLink","/hard"]],template:function(e,i){1&e&&(o.TgZ(0,"main"),o.TgZ(1,"nav"),o.TgZ(2,"a",0),o._uU(3,"Treino"),o.qZA(),o.TgZ(4,"a",1),o._uU(5,"F\xe1cil"),o.qZA(),o.TgZ(6,"a",2),o._uU(7,"M\xe9dio"),o.qZA(),o.TgZ(8,"a",3),o._uU(9,"Dif\xedcil"),o.qZA(),o.qZA(),o.qZA())},directives:[C.yS],styles:["[_nghost-%COMP%]{flex:1;display:flex;align-items:center;justify-content:center;flex-direction:column;background-color:#121212;background-image:url(/assets/brand/death-tower.svg);background-position:bottom center;background-repeat:no-repeat;background-size:1000px}[_nghost-%COMP%]   main[_ngcontent-%COMP%]{flex:1;display:flex;align-items:center;justify-content:center;flex-direction:column}[_nghost-%COMP%]   a[_ngcontent-%COMP%]:link{margin:20px;display:block;font-size:400%;font-family:var(--font-heading)}"],changeDetection:0}),n})()},{path:":level",component:(()=>{class n{constructor(e,i,s,r,a,l,c,d){this.router=s,this.route=r,this.cdkPlatform=a,this.game=l,this.dialog=c,this.player=d,this.destroy=new b.x,this._dialogRef=null,this.mobileQuery=e.matchMedia("(max-width: 900px)"),this._mobileQueryListener=()=>i.detectChanges(),this.mobileQuery.addEventListener("change",this._mobileQueryListener)}get hasFullscreen(){return document.fullscreenEnabled}get inFullscreen(){return document.fullscreenElement}set config(e){this._config=e}get config(){return this._config}openDialog(){this._dialogRef=this.dialog.openDialog(xs),setTimeout(()=>{this._dialogRef&&(this._dialogRef.dispose(),this._dialogRef=null)},3e3)}share(){const e=function Bs(n){const t=n.map(({x:i,y:s})=>`${i.toString(16)},${s.toString(16)}`).join(";"),e=new URLSearchParams(location.search);return e.set("coords",t),e.toString()}(this.config.platforms),i=`Opa \u{1f44d} %0a %0a\nComo andam suas habilidades motoras? %0a %0a\n*Mostre-me enviando o c\xf3digo que est\xe1 na \xfaltima porta deste mapa.* %0a %0a\n\n${location.origin}/?${e}\n\n%0a %0a \u{1f525} \u{1f480} Death Tower \u{1f5fc} \u{1f6a7}\n`;open(`https://api.whatsapp.com/send?text=${i}`,"_blank","noopener,noreferrer")}ngOnInit(){this.route.params.pipe((0,yn.h)(e=>!!e),M(this.destroy)).subscribe(({level:e})=>{this.game.loadLevel(e)}),this.player.gameover$.pipe(M(this.destroy)).subscribe(e=>{console.log("gameover: ",e),this.player.restart()}),this.player.paused$.pipe(M(this.destroy)).subscribe(e=>{e&&(this.player.gameover(),dr.play())}),this.player.finished$.pipe(M(this.destroy)).subscribe(e=>{e&&cr.play()}),this.player.jumpingUp$.pipe(M(this.destroy)).subscribe(e=>{e&&qn.paused&&qn.play()}),this.player.jumpingDown$.pipe(M(this.destroy)).subscribe(e=>{e&&Wn.paused&&Wn.play()})}ngAfterViewInit(){const e=this.container.nativeElement,i=this.canvas.nativeElement,{canvas:s}=new D(10,10);this.config=Object.assign(function Rs(n={}){return Object.assign(Object.assign({},Fs),n)}(),function Ns(n=function Ps(){return document.createElement("div")}(),t=function Is(){return document.createElement("canvas")}(),e=function Ls(){return new D(10,10).canvas}(),i){const s=t.getContext("2d"),r=n.getBoundingClientRect();return{container:n,canvas:t,ctx:s,rect:r,animationFrames:null!=i?i:{standing:[e,e],jumpingUp:[e,e],jumpingDown:[e,e],runningLeft:[e,e,e,e],runningRight:[e,e,e,e]}}}(e,i,s),function Vs(n={}){return Object.assign(Object.assign({},Ts),n)}({doors:[]})),this.config.savedState||(this.config.savedState=Je(this.config.state)),function qs(n){v(n,Hn,"standing",0,!1),v(n,Hn,"standing",1,!0),v(n,Un,"jumpingUp",0,!1),v(n,Un,"jumpingUp",1,!0),v(n,zn,"jumpingDown",0,!1),v(n,zn,"jumpingDown",1,!0),v(n,he,"runningLeft",0,!1),v(n,he,"runningLeft",1,!1),v(n,he,"runningRight",0,!0),v(n,he,"runningRight",1,!0),v(n,fe,"runningRight",2,!0),v(n,fe,"runningLeft",2,!1),v(n,fe,"runningLeft",3,!1),v(n,fe,"runningRight",3,!0)}(this.config),this.game.platforms$.pipe(M(this.destroy)).subscribe(r=>{if(this.config&&r.length){this.config.platforms.length||(this.config.state.lastPlatform=r[0],this.drawCanvas()),this.config.platforms=r;const l=r[r.length-1];l&&this.addDoors(l)}})}addDoors(e){const{x:i,y:s}=e,r=[new de];r.push(new de(i,s-250)),this.config.doors=r}keyUp(e){this.move(e,!1)}onKeyDown(e){this.move(e,!0)}onKeyPress(){this.config.state.touched||(this.config.state.touched=!0,this.player.start(),lr.play())}move(e,i){"ArrowLeft"===e.key&&(this.config.input.left=i),"ArrowRight"===e.key&&(this.config.input.right=i)," "===e.key&&(this.config.input.jump=i)}onTouchStart({action:e}){this.config.input[e]=!0}onTouchEnd({action:e}){this.config.input[e]=!1}toggleFullscreen(){this.inFullscreen?document.exitFullscreen():document.documentElement.requestFullscreen()}drawCanvas(){var e;const i=null!==(e=document.timeline.currentTime)&&void 0!==e?e:0;this.config.state.dt=i-(this.config.state.time||i),this.config.state.time=i,this.config.state.paused||this.doCalculations(),this.config.state.lastPlatform||(this.config.state.lastPlatform=this.config.platforms[0],this.player.reset()),!this.config.state.paused&&100!==this.config.state.titles.opacity&&100!==this.config.state.winner.opacity&&(function js(n){if(n.canvas&&n.ctx)if(null==n.storage.sky){const t=n.canvas.height,e=new D(n.canvas.width,t);e.ctx.fillStyle=n.sky.bg,e.ctx.fillRect(0,0,n.canvas.width,t);for(let i=0;i<150;i++){const s=Math.floor(Math.random()*n.sky.starSizes.length);e.ctx.fillStyle=n.sky.starColors[s],e.ctx.beginPath(),e.ctx.arc(Math.floor(Math.random()*n.canvas.width),Math.floor(Math.random()*t),n.sky.starSizes[s],0,2*Math.PI),e.ctx.fill()}n.storage.sky=e.canvas}else{const t=(n.state.pos.x-2e3)%200*8*-1,e=n.state.pos.y%n.canvas.height;n.ctx.drawImage(n.storage.sky,t,e),n.ctx.drawImage(n.storage.sky,t-n.canvas.width,e),n.ctx.drawImage(n.storage.sky,t,e-n.canvas.height),n.ctx.drawImage(n.storage.sky,t-n.canvas.width,e-n.canvas.height)}}(this.config),Gn(this.config,!1),function Hs(n){const t=2*n.brick.height+2*n.brick.padding;if(!n.storage.bricks){n.storage.bricks={};for(let e=0;e<16;e++)n.storage.bricks["brick"+e]=Gs(n,t,e)}if(n.ctx)for(let e=-1;e<12;e++)n.ctx.drawImage(n.storage.bricks["brick"+n.state.pos.x%n.brick.width],n.tower.skyWidth,t*e+n.state.pos.y%t)}(this.config),function Us(n){n.doors.forEach(t=>{t.x<n.state.pos.x-40||t.x>n.state.pos.x+220||t.draw(n)})}(this.config),function zs(n){if(n.ctx&&n.storage.shadows)n.ctx.drawImage(n.storage.shadows,n.tower.skyWidth,0);else if(n.canvas){const t=new D(n.tower.width,n.canvas.height);ue(t.ctx,0,n.tower.shadowWidth+80,n.canvas.height,"#666666","transparent"),ue(t.ctx,0,n.tower.shadowWidth,n.canvas.height,"rgb(10, 10, 10)","transparent"),ue(t.ctx,t.canvas.width-(n.tower.shadowWidth+80),n.tower.shadowWidth+80,n.canvas.height,"transparent","#666666"),ue(t.ctx,t.canvas.width-n.tower.shadowWidth,n.tower.shadowWidth,n.canvas.height,"transparent","rgb(10, 10, 10)"),n.storage.shadows=t.canvas}}(this.config),Gn(this.config,!0),function Zs(n){n.ctx&&n.ctx.drawImage(n.state.jump.isJumping?n.state.jump.speed>0?n.animationFrames.jumpingUp[n.state.player.dir]:n.animationFrames.jumpingDown[n.state.player.dir]:0!==n.state.player.speed?n.state.player.dir?n.animationFrames.runningRight[n.state.player.animationFrame]:n.animationFrames.runningLeft[n.state.player.animationFrame]:n.animationFrames.standing[n.state.player.dir],n.state.player.x-(n.state.player.dir?120:80),n.state.player.y+n.state.pos.y-48),n.state.player.animationFrameCount+=n.state.dt,n.state.player.animationFrameCount>50&&(n.state.player.animationFrame+=1,n.state.player.animationFrameCount=0),n.state.player.animationFrame>3&&(n.state.player.animationFrame=0)}(this.config)),!this.config.state.paused&&this.config.state.finished&&(function Ys(n,t){n.state.dt&&n.state.winner.opacity<100&&(n.state.winner.opacity+=Math.floor(.2*n.state.dt)),n.state.winner.opacity>100&&(n.state.winner.opacity=100),n.ctx&&n.canvas&&(n.ctx.fillStyle="rgba(10, 10, 10, "+n.state.winner.opacity/100+")",n.ctx.rect(0,0,n.canvas.width,n.canvas.height),n.ctx.fill(),n.ctx.fillStyle="rgba(6, 231, 65, "+n.state.winner.opacity/100+")",n.ctx.font="64px 'Germania One', cursive",n.ctx.fillText(n.state.winner.text,600,440-40*Xe(n.state.winner.opacity/100)),t&&(n.ctx.fillStyle="rgba(255, 255, 255, "+n.state.winner.opacity/100+")",n.ctx.font="48px 'Germania One', cursive",n.ctx.fillText(`Desafio: #${t}`,650,520-40*Xe(n.state.winner.opacity/100)))),100==n.state.winner.opacity&&n.input.jump&&(n.state.winner.ready=!0)}(this.config),this.config.state.winner.ready&&this.config.input.jump&&(this.config.state=Je(this.config.savedState),this.player.patchValue(this.config.state),this.config.state.lastPlatform=null,this.config.state.touched=!1)),this.config.state.paused&&(function Ws(n){n.state.dt&&n.state.titles.opacity<100&&(n.state.titles.opacity+=Math.floor(.2*n.state.dt)),n.state.titles.opacity>100&&(n.state.titles.opacity=100),n.ctx&&n.canvas&&(n.ctx.fillStyle="rgba(10, 10, 10, "+n.state.titles.opacity/100+")",n.ctx.rect(0,0,n.canvas.width,n.canvas.height),n.ctx.fill(),n.ctx.fillStyle="rgba(255, 236, 61, "+n.state.titles.opacity/100+")",n.ctx.font="64px 'Germania One', cursive",n.ctx.fillText(n.state.titles.text,600,520-40*Xe(n.state.titles.opacity/100))),100==n.state.titles.opacity&&!n.input.jump&&(n.state.titles.ready=!0)}(this.config),this.config.state.titles.ready&&this.config.input.jump&&(this.config.state=Je(this.config.savedState),this.player.patchValue(this.config.state),this.config.state.lastPlatform=null,this.config.state.touched=!1)),requestAnimationFrame(()=>this.drawCanvas())}doCalculations(){if(this.config.input.left?this.config.state.player.speed+=this.config.settings.acceleration:this.config.input.right?this.config.state.player.speed-=this.config.settings.acceleration:0!==this.config.state.player.speed&&(this.config.state.player.speed*=this.config.state.jump.isJumping?this.config.settings.jump.friction:this.config.settings.friction),Math.abs(this.config.state.player.speed)>this.config.settings.maxSpeed?this.config.state.player.speed=this.config.state.player.speed>0?this.config.settings.maxSpeed:-1*this.config.settings.maxSpeed:Math.abs(this.config.state.player.speed)<this.config.settings.minSpeed&&(this.config.state.player.speed=0),0!==this.config.state.player.speed){const e=this.config.state.jump.isJumping?.7*this.config.state.player.speed:this.config.state.player.speed;this.config.state.pos.x+=this.config.state.player.speed<0?Math.ceil(e*this.config.state.dt):Math.floor(e*this.config.state.dt),this.config.state.player.dir=e>0?0:1}if(!this.config.state.climbstarted&&this.config.input.jump&&(this.config.state.climbstarted=!0),(this.config.input.jump||this.config.state.jump.isJumping)&&(this.config.state.jump.isGrounded&&(this.player.jump("up"),this.config.state.jump.isGrounded=!1,this.config.state.jump.isJumping=!0,this.config.state.jump.isBoosting=!0,this.config.state.jump.speed=this.config.settings.jump.maxSpeed),this.config.state.jump.isJumping)){const e=this.config.state.jump.speed>0,i=this.config.state.dt<30?30-this.config.state.dt:0;!e&&this.config.state.jump.isBoosting&&(this.config.state.jump.isBoosting=!1),this.config.state.player.prevY=this.config.state.player.y,this.config.state.player.y-=this.config.state.jump.speed*this.config.state.dt,this.config.state.jump.speed-=(this.config.settings.jump.gravity[e?this.config.state.jump.isBoosting?"boost":"normal":"down"]-2e-5*i)*this.config.state.dt}this.config.state.jump.isBoosting&&!this.config.input.jump&&(this.config.state.jump.isBoosting=!1),this.config.state.climbstarted&&this.config.state.pos.y<1440&&(this.config.state.pos.y+=(this.config.state.player.y+this.config.state.pos.y<250?this.config.state.climbspeed.fast:this.config.state.climbspeed.normal)*this.config.state.dt),this.collisionDetection(),this.landedOut()&&(this.config.state.paused=!0,this.player.pause()),this.isTheLastPlatform()&&(this.config.state.finished=!0,this.player.finish())}landedOut(){return this.config.state.player.y+this.config.state.pos.y>900}isTheLastPlatform(){return this.config.state.lastPlatform&&this.config.state.lastPlatform.n===this.config.platforms.length-1}collisionDetection(){if(this.config.state.jump.isJumping&&this.config.state.jump.speed<0)for(let e=0;e<this.config.state.activePlatforms.length;e++){const i=this.config.state.activePlatforms[e];if(Math.abs(i.x-(this.config.state.pos.x+90))<10){const r=this.config.state.player.prevY+250;this.config.state.player.y+250>i.y&&r<i.y&&(this.config.state.touched&&this.player.jump("down"),this.cdkPlatform.ANDROID&&navigator.vibrate(50),this.checkPoint(i),this.config.state.player.y=i.y-250,this.config.state.jump.isGrounded=!0,this.config.state.jump.isJumping=!1,this.config.state.jump.isBoosting=!1,this.config.state.jump.speed=0)}}else if(this.config.state.jump.isGrounded){let e=!1;for(let i=0;i<this.config.state.activePlatforms.length;i++){const s=this.config.state.activePlatforms[i];if(Math.abs(s.x-(this.config.state.pos.x+90))<10&&s.y-(this.config.state.player.y+250)==0){e=!0;break}}e||(this.player.jump("up"),this.config.state.jump.isGrounded=!1,this.config.state.jump.isJumping=!0,this.config.state.jump.isBoosting=!0,this.config.state.jump.speed=this.config.settings.jump.fallStartSpeed)}}checkPoint(e){this.config.state.lastPlatform&&e.n>this.config.state.lastPlatform.n&&(this.config.state.lastPlatform=e,this.updateScore(e))}updateScore(e){const s=parseInt(""+e.n*(-1*this.config.state.player.speed*1e3),10);this.config.state.score=s,this.player.patchValue({score:s})}ngOnDestroy(){this.destroy.next(),this.destroy.complete(),this.mobileQuery.removeEventListener("change",this._mobileQueryListener)}}return n.\u0275fac=function(e){return new(e||n)(o.Y36(so),o.Y36(o.sBO),o.Y36(C.F0),o.Y36(C.gz),o.Y36(S),o.Y36(Zn.D2),o.Y36(ce),o.Y36(Zn.fL))},n.\u0275cmp=o.Xpm({type:n,selectors:[["dt-game"]],viewQuery:function(e,i){if(1&e&&(o.Gf(rr,5),o.Gf(ar,5)),2&e){let s;o.iGM(s=o.CRH())&&(i.container=s.first),o.iGM(s=o.CRH())&&(i.canvas=s.first)}},hostBindings:function(e,i){1&e&&o.NdJ("keyup",function(r){return i.keyUp(r)},!1,o.Jf7)("keydown",function(r){return i.onKeyDown(r)},!1,o.Jf7)("keypress",function(){return i.onKeyPress()},!1,o.Jf7)},features:[o._Bn([ce])],decls:63,vars:17,consts:[["title","Death Tower","routerLink","/",1,"death-tower-icon"],["height","42","viewBox","0 0 29 39","fill","none","xmlns","http://www.w3.org/2000/svg"],["d","M26.6734 17.8201L26.6536 18.7212C26.5825 19.7289 26.3256 21.4797 25.4364 23.4518C25.717 22.1358 25.8672 20.7723 25.8672 19.3732C25.8672 18.3259 25.7842 17.3023 25.6261 16.2985C24.8993 11.7265 22.5759 7.68827 19.2473 4.77551C16.6028 2.4613 13.3237 0.857513 9.70695 0.260839C8.73077 0.0276648 8.15772 0 8.15772 0L8.217 0.071138C9.82935 1.99922 10.7696 3.97147 11.2548 5.83673C11.796 7.91716 11.7711 9.86449 11.4814 11.469C11.2838 12.5598 10.9637 13.4925 10.6159 14.1999C10.6159 14.1999 10.9044 12.9985 10.8768 11.6311C10.8531 10.402 10.5685 9.03848 9.58048 8.29943C9.88479 9.88818 9.51725 11.1963 8.79006 12.4254C8.11428 13.5746 7.12779 14.6334 6.08091 15.757C3.81555 18.1884 1.26739 20.9233 0.972763 25.5346V25.8666C0.972763 30.5103 3.1899 34.4229 6.9128 36.6756C6.31998 35.6085 5.62046 33.6325 6.15794 31.4746C6.50178 33.5218 7.01951 34.5889 7.96406 35.9484C8.66754 36.9601 9.61605 37.6162 10.8254 38.1023C12.0347 38.5924 13.335 38.7267 14.7973 38.7267C19.6228 38.7267 23.8951 36.2567 26.3691 32.5061L26.3928 32.5101C27.776 30.3285 28.6495 27.7122 28.6495 24.9023C28.6455 22.3176 27.9104 19.8949 26.6734 17.8201Z","fill","white"],["d","M22.9911 23.8023L22.9792 24.3485C22.9361 24.9594 22.7806 26.0207 22.2422 27.2162C22.4121 26.4184 22.503 25.5919 22.503 24.7438C22.503 24.1089 22.4527 23.4884 22.357 22.8799C21.5674 17.9064 17.6647 13.9751 12.7188 13.1581C12.1277 13.0168 11.7808 13 11.7808 13C11.7927 13.0144 11.8047 13.0287 11.8167 13.0431C13.8817 15.5155 14.1257 18.1077 13.7931 19.9524C13.6735 20.6136 13.4797 21.179 13.2691 21.6078C13.2691 21.6078 13.4438 20.8795 13.427 20.0506C13.4127 19.3055 13.2404 18.479 12.6422 18.031C12.8264 18.9941 12.6039 19.7871 12.1636 20.5321C10.8691 22.7362 7.69145 24.3916 7.43063 28.4787V28.68C7.43063 31.4949 8.773 33.8667 11.027 35.2322C10.6681 34.5854 10.2446 33.3875 10.57 32.0795C10.7782 33.3205 11.0916 33.9673 11.6635 34.7914C12.0894 35.4047 12.6637 35.8024 13.3959 36.0971C14.1281 36.3942 14.9154 36.4756 15.8007 36.4756C18.7223 36.4756 21.309 34.9783 22.8069 32.7048L22.8212 32.7072C23.6587 31.3847 24.1875 29.7988 24.1875 28.0954C24.1851 26.5286 23.7401 25.06 22.9911 23.8023Z","fill","black"],["dt-menu-item","","routerLink","/easy","routerLinkActive","active"],["dt-menu-item","","routerLink","/medium","routerLinkActive","active"],["dt-menu-item","","routerLink","/hard","routerLinkActive","active"],[1,"level"],["id","player"],[3,"value"],["container",""],["height","900","width","1600"],["canvas",""],[1,"flex","flex-column","gap-16"],["dt-control","","action","fullscreen",3,"touch"],[0,"xlink","href","#fullscreen-exit",3,"ngClass"],[0,"xlink","href","#fullscreen-enter",3,"ngClass"],["dt-control","",3,"click"],[0,"xlink","href","#share"],["dt-control","","action","jump",1,"only-mobile",3,"touchStart","touchEnd"],[0,"xlink","href","#jump"],[1,"only-mobile","flex","flex-row","gap-16"],["dt-control","","action","left",3,"touchStart","touchEnd"],[0,"xlink","href","#left"],["dt-control","","action","right",3,"touchStart","touchEnd"],[0,"xlink","href","#right"],[1,"svg-symbols"],["id","fullscreen-enter","viewBox","0 0 24 24"],["d","M7 14H5V19H10V17H7V14ZM5 10H7V7H10V5H5V10ZM17 17H14V19H19V14H17V17ZM14 5V7H17V10H19V5H14Z"],["id","fullscreen-exit","viewBox","0 0 24 24"],["d","M5 16H8V19H10V14H5V16ZM8 8H5V10H10V5H8V8ZM14 19H16V16H19V14H14V19ZM16 8V5H14V10H19V8H16Z"],["id","jump","viewBox","0 0 24 24"],["d","M1 16.1911L2.93875 17.9873L12 9.6051L21.0475 18L23 16.1911L12 6L1 16.1911Z"],["id","left","viewBox","0 0 24 24"],["d","M16.1911 23L17.9873 21.0612L9.6051 12L18 2.9525L16.1911 1L6 12L16.1911 23Z"],["id","right","viewBox","0 0 24 24"],["d","M7.80892 1L6.01274 2.93875L14.3949 12L6 21.0475L7.80892 23L18 12L7.80892 1Z"],["id","share","viewBox","0 0 24 24"],["d","M0 0h24v24H0V0z","fill","none"],["d","M18 16.08c-.76 0-1.44.3-1.96.77L8.91 12.7c.05-.23.09-.46.09-.7s-.04-.47-.09-.7l7.05-4.11c.54.5 1.25.81 2.04.81 1.66 0 3-1.34 3-3s-1.34-3-3-3-3 1.34-3 3c0 .24.04.47.09.7L8.04 9.81C7.5 9.31 6.79 9 6 9c-1.66 0-3 1.34-3 3s1.34 3 3 3c.79 0 1.5-.31 2.04-.81l7.12 4.16c-.05.21-.08.43-.08.65 0 1.61 1.31 2.92 2.92 2.92s2.92-1.31 2.92-2.92c0-1.61-1.31-2.92-2.92-2.92zM18 4c.55 0 1 .45 1 1s-.45 1-1 1-1-.45-1-1 .45-1 1-1zM6 13c-.55 0-1-.45-1-1s.45-1 1-1 1 .45 1 1-.45 1-1 1zm12 7.02c-.55 0-1-.45-1-1s.45-1 1-1 1 .45 1 1-.45 1-1 1z"]],template:function(e,i){if(1&e&&(o.TgZ(0,"header"),o.TgZ(1,"a",0),o.O4$(),o.TgZ(2,"svg",1),o.TgZ(3,"title"),o._uU(4,"Death Tower"),o.qZA(),o._UZ(5,"path",2),o._UZ(6,"path",3),o.qZA(),o.qZA(),o.kcU(),o.TgZ(7,"nav"),o.TgZ(8,"dt-menu"),o.TgZ(9,"button"),o._uU(10,"Dificuldade"),o.qZA(),o.TgZ(11,"a",4),o._uU(12,"f\xe1cil"),o.qZA(),o.TgZ(13,"a",5),o._uU(14,"m\xe9dio"),o.qZA(),o.TgZ(15,"a",6),o._uU(16,"dif\xedcil"),o.qZA(),o.qZA(),o.TgZ(17,"span",7),o._uU(18),o.ALo(19,"async"),o.qZA(),o.qZA(),o.TgZ(20,"section",8),o._UZ(21,"dt-timer",9),o.ALo(22,"async"),o._UZ(23,"dt-score",9),o.ALo(24,"async"),o.qZA(),o.qZA(),o.TgZ(25,"main",null,10),o._UZ(27,"canvas",11,12),o.qZA(),o.TgZ(29,"footer"),o.TgZ(30,"nav"),o.TgZ(31,"div",13),o.TgZ(32,"button",14),o.NdJ("touch",function(){return i.toggleFullscreen()}),o.O4$(),o.TgZ(33,"svg"),o._UZ(34,"use",15),o._UZ(35,"use",16),o.qZA(),o.qZA(),o.kcU(),o.TgZ(36,"button",17),o.NdJ("click",function(){return i.share()}),o.O4$(),o.TgZ(37,"svg"),o._UZ(38,"use",18),o.qZA(),o.qZA(),o.kcU(),o.TgZ(39,"button",19),o.NdJ("touchStart",function(r){return i.onTouchStart(r)})("touchEnd",function(r){return i.onTouchEnd(r)}),o.O4$(),o.TgZ(40,"svg"),o._UZ(41,"use",20),o.qZA(),o.qZA(),o.qZA(),o.kcU(),o.TgZ(42,"div",21),o.TgZ(43,"button",22),o.NdJ("touchStart",function(r){return i.onTouchStart(r)})("touchEnd",function(r){return i.onTouchEnd(r)}),o.O4$(),o.TgZ(44,"svg"),o._UZ(45,"use",23),o.qZA(),o.qZA(),o.kcU(),o.TgZ(46,"button",24),o.NdJ("touchStart",function(r){return i.onTouchStart(r)})("touchEnd",function(r){return i.onTouchEnd(r)}),o.O4$(),o.TgZ(47,"svg"),o._UZ(48,"use",25),o.qZA(),o.qZA(),o.qZA(),o.qZA(),o.qZA(),o.TgZ(49,"svg",26),o.TgZ(50,"symbol",27),o._UZ(51,"path",28),o.qZA(),o.TgZ(52,"symbol",29),o._UZ(53,"path",30),o.qZA(),o.TgZ(54,"symbol",31),o._UZ(55,"path",32),o.qZA(),o.TgZ(56,"symbol",33),o._UZ(57,"path",34),o.qZA(),o.TgZ(58,"symbol",35),o._UZ(59,"path",36),o.qZA(),o.TgZ(60,"symbol",37),o._UZ(61,"path",38),o._UZ(62,"path",39),o.qZA(),o.qZA()),2&e){let s;o.xp6(18),o.Oqu(null==(s=o.lcZ(19,7,i.game.level$))?null:s.name),o.xp6(3),o.Q6J("value",o.lcZ(22,9,i.player.seconds$)),o.xp6(2),o.Q6J("value",o.lcZ(24,11,i.player.score$)),o.xp6(6),o.ekj("is-mobile",i.mobileQuery.matches),o.xp6(5),o.Q6J("ngClass",o.VKq(13,Yn,i.inFullscreen)),o.xp6(1),o.Q6J("ngClass",o.VKq(15,Yn,!i.inFullscreen))}},directives:[C.yS,Xs,er,C.Od,tr,nr,sr,p.mk],pipes:[p.Ov],styles:["[_nghost-%COMP%]{flex:1;display:flex;flex-direction:column;max-height:100vh;overflow:hidden}[_nghost-%COMP%]   button[_ngcontent-%COMP%]{color:rgba(var(--color-text),.6);font-family:var(--font-heading)}[_nghost-%COMP%]   .only-mobile[_ngcontent-%COMP%]{visibility:hidden}[_nghost-%COMP%]   .is-mobile[_ngcontent-%COMP%]   .only-mobile[_ngcontent-%COMP%]{visibility:visible}[_nghost-%COMP%]   header[_ngcontent-%COMP%]{display:flex;align-items:center;justify-content:space-between}[_nghost-%COMP%]   header[_ngcontent-%COMP%]   .death-tower-icon[_ngcontent-%COMP%]{display:inline-flex;align-items:center;padding:8px}[_nghost-%COMP%]   header[_ngcontent-%COMP%]   section#player[_ngcontent-%COMP%]{grid-gap:20px;gap:20px;display:flex;margin:8px 16px;justify-content:space-between;align-items:center}[_nghost-%COMP%]   main[_ngcontent-%COMP%]{flex:1;overflow:hidden;max-height:100vh}[_nghost-%COMP%]   main[_ngcontent-%COMP%]   canvas[_ngcontent-%COMP%]{width:100%}[_nghost-%COMP%]   svg[_ngcontent-%COMP%]{display:inline-flex;height:100%}[_nghost-%COMP%]   svg[_ngcontent-%COMP%]   use[_ngcontent-%COMP%]{fill:#fff}[_nghost-%COMP%]   footer[_ngcontent-%COMP%]{bottom:0;position:fixed;width:calc(100vw - 48px);padding:24px}[_nghost-%COMP%]   footer[_ngcontent-%COMP%]   nav[_ngcontent-%COMP%]{display:flex;align-items:flex-end;justify-content:space-between}[_nghost-%COMP%]   .hidden[_ngcontent-%COMP%]{display:none}[_nghost-%COMP%]   .svg-symbols[_ngcontent-%COMP%]{display:none}"],changeDetection:0}),n})()}];let hr=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=o.oAB({type:n}),n.\u0275inj=o.cJS({imports:[[C.Bz.forChild(ur)],C.Bz]}),n})(),fr=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=o.oAB({type:n}),n.\u0275inj=o.cJS({imports:[[p.ez]]}),n})(),pr=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=o.oAB({type:n}),n.\u0275inj=o.cJS({imports:[[ks,fr,p.ez,Ds,hr,Vn,oo,je,rn]]}),n})()}}]);